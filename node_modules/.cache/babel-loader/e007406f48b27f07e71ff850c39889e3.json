{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\src\\\\components\\\\Products\\\\ProductDetail.js\";\nimport React, { Component } from \"react\";\nimport \"./product.css\";\nimport { connect } from \"react-redux\"; // @Functions\n\nimport changeToSlug from \"../../utils/ChangeToSlug\";\nimport { toastError } from \"../../utils/toastHelper\"; // @ComponentS\n\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle } from \"@coreui/react\"; // @Actions\n\nimport ProductsActions from \"../../redux/actions/products\";\nimport OperationActions from \"../../redux/actions/operations\";\nimport ColorActions from \"../../redux/actions/color\";\nimport CategoryActions from \"../../redux/actions/categories\";\n\nvar ProductDetail = /*#__PURE__*/function (_Component) {\n  _inherits(ProductDetail, _Component);\n\n  var _super = _createSuper(ProductDetail);\n\n  function ProductDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ProductDetail);\n\n    _this = _super.call(this, props);\n\n    _this.setValue = function (product, categoryDetail) {\n      var specifications = [];\n\n      if (product) {\n        //Trường hợp sửa\n        if (product.specifications.length !== 0) {\n          categoryDetail.specifications.map(function (item) {\n            specifications.push({\n              _id: item,\n              value: \"\"\n            });\n            product.specifications.map(function (i) {\n              specifications.map(function (obj) {\n                return obj._id === i._id ? Object.assign(obj, {\n                  value: i.value\n                }) : obj;\n              });\n            });\n          });\n        } else {\n          //mảng specification=[]\n          categoryDetail.specifications.map(function (item) {\n            specifications.push({\n              _id: item,\n              value: \"\"\n            });\n          });\n        }\n      } else {\n        //Trường hợp thêm\n        categoryDetail.specifications.map(function (item) {\n          specifications.push({\n            _id: item,\n            value: \"\"\n          });\n        });\n      }\n\n      return specifications;\n    };\n\n    _this.onChange = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.deletePhoto = function (id) {\n      var image = _this.state.image; // Vị trí trong mảng có image cần xóa\n\n      var deleteIndex = image.indexOf(image.find(function (img) {\n        return img._id === id;\n      })); // Tạo mảng mới không có phần tử muốn xóa\n\n      image.splice(deleteIndex, 1);\n\n      _this.setState({\n        image: image\n      });\n    };\n\n    _this.deletePreview = function (item) {\n      var previewList = _this.state.previewList; // Vị trí trong mảng có image cần xóa\n\n      var deleteIndex = previewList.indexOf(previewList.find(function (img) {\n        return img === item;\n      })); // Tạo mảng mới không có phần tử muốn xóa\n\n      previewList.splice(deleteIndex, 1);\n\n      _this.setState({\n        previewList: previewList\n      });\n    };\n\n    _this.handleFileInputChange = function (e) {\n      var file = e.target.files[0]; // 1. Hiển thị ảnh vừa thêm\n\n      _this.previewFile(file);\n\n      _this.setState({\n        selectedFile: file,\n        fileInputState: e.target.value\n      });\n    };\n\n    _this.handleColorInputChange = function (e) {\n      var file = e.target.files[0]; // 1. Hiển thị ảnh vừa thêm\n\n      _this.previewColor(file);\n\n      _this.setState({\n        selectedColor: file,\n        colorInputState: e.target.value\n      });\n    };\n\n    _this.handleListInputChange = function (e) {\n      var file = e.target.files[0];\n      var _this$state = _this.state,\n          selectedList = _this$state.selectedList,\n          fileInputList = _this$state.fileInputList; // 1. Hiển thị ảnh vừa thêm\n\n      _this.previewList(file);\n\n      selectedList.push(file);\n      fileInputList.push(e.target.value);\n\n      _this.setState({\n        selectedList: selectedList,\n        fileInputList: fileInputList\n      });\n    };\n\n    _this.previewFile = function (file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        _this.setState({\n          previewSource: reader.result\n        });\n      };\n    };\n\n    _this.previewColor = function (file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        _this.setState({\n          previewColorImage: reader.result\n        });\n      };\n    };\n\n    _this.previewList = function (file) {\n      var reader = new FileReader();\n      var previewList = _this.state.previewList;\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        previewList.push(reader.result);\n\n        _this.setState({\n          previewList: previewList\n        });\n      };\n    };\n\n    _this.onSelect = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var id = target.value;\n      var onGetDetailCategories = _this.props.onGetDetailCategories;\n\n      _this.setState(_defineProperty({}, name, id));\n\n      onGetDetailCategories(id);\n    };\n\n    _this.onChangeDetail = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n\n      _this.setState(function (prevState) {\n        return {\n          specifications: prevState.specifications.map(function (obj) {\n            return obj._id === name ? Object.assign(obj, {\n              value: value\n            }) : obj;\n          })\n        };\n      });\n    };\n\n    _this.onAddColor = function (value) {\n      if (value === \"none\") {\n        _this.setState({\n          colorEditing: \"inline-flex\",\n          btnStatus: \"Hủy\",\n          onEditing: false\n        });\n      } else {\n        _this.setState({\n          colorEditing: \"none\",\n          btnStatus: \"Thêm màu\",\n          nameColor: \"\",\n          amountColor: 0,\n          priceColor: 0,\n          onEditing: false,\n          imageColor: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\"\n        });\n      }\n    };\n\n    _this.onEditColor = function (item) {\n      var colorList = _this.state.colorList;\n\n      _this.setState({\n        nameColor: item._id,\n        amountColor: item.amount,\n        priceColor: item.price,\n        colorEditing: \"inline-flex\",\n        imageColor: item.image,\n        btnStatus: \"Hủy\",\n        onEditing: true,\n        indexColor: colorList.indexOf(item)\n      });\n    };\n\n    _this.onDeleteColor = function (item) {\n      var colorList = _this.state.colorList;\n      colorList.splice(colorList.indexOf(item), 1);\n\n      _this.setState({\n        colorList: colorList\n      });\n    };\n\n    _this.onSubmitImage = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$state2, selectedFile, selectedList, id, formData1, formData2, i, reader;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state2 = _this.state, selectedFile = _this$state2.selectedFile, selectedList = _this$state2.selectedList, id = _this$state2.id; // @Condition cloudinary là FormData()\n              // @Xử lý ảnh trước khi lưu\n              // Nếu có import thumbnail mới thì\n\n              if (!(selectedFile && selectedList.length !== 0)) {\n                _context.next = 11;\n                break;\n              }\n\n              formData1 = new FormData();\n              formData1.append(\"image\", selectedFile);\n              _context.next = 6;\n              return _this.setState({\n                bigimage: formData1\n              });\n\n            case 6:\n              formData2 = new FormData();\n\n              for (i = 0; i < selectedList.length; i++) {\n                formData2.append(\"image\", selectedList[i]);\n              }\n\n              _this.onCallback(id, formData2);\n\n              _context.next = 12;\n              break;\n\n            case 11:\n              if (selectedFile) {\n                // 1. Lưu cloudinary\n                // eslint-disable-next-line\n                reader = new FileReader();\n                reader.readAsDataURL(selectedFile); // 2. Lưu state dạng FormData\n\n                reader.onloadend = function () {\n                  // eslint-disable-next-line\n                  var formData1 = new FormData();\n                  formData1.append(\"image\", selectedFile);\n\n                  _this.setState({\n                    bigimage: formData1\n                  });\n\n                  _this.onCallback(id);\n                };\n\n                reader.onerror = function () {\n                  console.error(\"Lỗi không thêm mới được Thumbnail product\");\n                };\n              } else if (selectedList.length !== 0) {\n                // 1. Lưu cloudinary\n                // eslint-disable-next-line\n                formData2 = new FormData();\n\n                for (i = 0; i < selectedList.length; i++) {\n                  formData2.append(\"image\", selectedList[i]);\n                }\n\n                _this.onCallback(id, formData2);\n              } else {\n                _this.onCallback(id, null);\n              }\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.onCallback = function (id, formData) {\n      var _this$props = _this.props,\n          onCreate = _this$props.onCreate,\n          onUpdateImage = _this$props.onUpdateImage;\n      var _this$state3 = _this.state,\n          name = _this$state3.name,\n          price = _this$state3.price,\n          amount = _this$state3.amount,\n          warrently = _this$state3.warrently,\n          category = _this$state3.category,\n          brand = _this$state3.brand,\n          bigimage = _this$state3.bigimage,\n          image = _this$state3.image,\n          pathseo = _this$state3.pathseo,\n          specifications = _this$state3.specifications,\n          colorList = _this$state3.colorList;\n\n      if (id) {\n        // eslint-disable-next-line\n        var data = {\n          name: name,\n          price: price,\n          amount: amount,\n          warrently: warrently,\n          category: category,\n          brand: brand,\n          bigimage: bigimage,\n          image: image,\n          pathseo: pathseo,\n          specifications: specifications,\n          colors: colorList\n        };\n        onUpdateImage(id, data, formData);\n      } else {\n        // 4. Create data\n        // eslint-disable-next-line\n        var data = {\n          name: name,\n          price: price,\n          amount: amount,\n          warrently: warrently,\n          category: category,\n          brand: brand,\n          bigimage: bigimage,\n          pathseo: pathseo,\n          image: image,\n          specifications: specifications,\n          colors: colorList\n        };\n        onCreate(data, formData);\n      }\n    };\n\n    _this.setSpecification = function (specification) {\n      var listSpecification = _this.props.listSpecification;\n      var specificationName = listSpecification.find(function (obj) {\n        return obj._id === specification;\n      });\n      return specificationName.name;\n    };\n\n    var _product = props.product,\n        listCategories = props.listCategories,\n        listBrands = props.listBrands;\n    _this.state = {\n      // @Product Info\n      id: _product ? _product._id : \"\",\n      name: _product ? _product.name : \"\",\n      pathseo: _product ? _product.pathseo : \"\",\n      warrently: _product ? _product.warrently : \"\",\n      category: _product ? _product.category._id : listCategories[0]._id,\n      brand: _product ? _product.brand._id : listBrands[0]._id,\n      bigimage: _product ? _product.bigimage : \"\",\n      image: _product ? _product.image : [],\n      // @Product Color\n      colorList: _product ? _product.colors : [],\n      nameColor: \"\",\n      amountColor: 0,\n      priceColor: 0,\n      colorEditing: \"none\",\n      btnStatus: \"Thêm màu\",\n      onEditing: false,\n      indexColor: -1,\n      imageColor: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n      previewColorImage: \"\",\n      selectedColor: \"\",\n      colorInputState: \"\",\n      // @Product Image\n      previewSource: \"\",\n      selectedFile: \"\",\n      fileInputState: \"\",\n      // @Product list images\n      previewList: [],\n      selectedList: [],\n      fileInputList: [],\n      // @Product Specifition\n      specifications: _product ? _this.setValue(_product, listCategories[listCategories.findIndex(function (i) {\n        return i._id === _product.category._id;\n      })]) : _this.setValue(_product, listCategories[0])\n    };\n    return _this;\n  }\n\n  _createClass(ProductDetail, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$props2 = this.props,\n          onGetListOperation = _this$props2.onGetListOperation,\n          onGetListColor = _this$props2.onGetListColor;\n      onGetListOperation();\n      onGetListColor();\n    }\n  }, {\n    key: \"onSaveColor\",\n    value: function onSaveColor() {\n      var _this$state4 = this.state,\n          nameColor = _this$state4.nameColor,\n          priceColor = _this$state4.priceColor,\n          amountColor = _this$state4.amountColor,\n          onEditing = _this$state4.onEditing,\n          indexColor = _this$state4.indexColor,\n          colorList = _this$state4.colorList;\n      var listColor = this.props.listColor;\n\n      if (!nameColor) {\n        toastError(\"Chọn màu trước khi lưu\");\n      } else {\n        if (onEditing === false) {\n          // TH thêm màu\n          if (colorList.find(function (obj) {\n            return obj._id === nameColor;\n          })) {\n            toastError(\"Màu này đã tồn tại\");\n          } else {\n            colorList.push({\n              _id: nameColor,\n              name_vn: listColor.find(function (obj) {\n                return obj._id === nameColor;\n              }).name_vn,\n              amount: amountColor,\n              price: priceColor\n            });\n          }\n        } else {\n          // TH sửa màu\n          for (var i = 0; i < colorList.length; i++) {\n            colorList[indexColor] = {\n              _id: nameColor,\n              name_vn: listColor.find(function (obj) {\n                return obj._id === nameColor;\n              }).name_vn,\n              amount: amountColor,\n              price: priceColor\n            };\n          }\n        }\n      }\n\n      this.setState({\n        colorList: colorList\n      });\n      console.log(\"colorList\", colorList);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(props) {\n      var _this$props3 = this.props,\n          product = _this$props3.product,\n          categoryDetail = _this$props3.categoryDetail,\n          listCategories = _this$props3.listCategories;\n\n      if (categoryDetail !== props.categoryDetail && categoryDetail) {\n        // categoryDetail thay doi\n        if (product && categoryDetail._id === product.category._id) {\n          // truong hop sua\n          if (product.specifications.length > 0) {\n            this.setState({\n              specifications: this.setValue(product, listCategories[listCategories.findIndex(function (i) {\n                return i._id === product.category._id;\n              })])\n            });\n          } else {\n            this.setState({\n              specifications: this.setValue(product, categoryDetail)\n            });\n          }\n        } else {\n          // truong hop them moi\n          this.setState({\n            specifications: this.setValue(product, categoryDetail)\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state5 = this.state,\n          name = _this$state5.name,\n          pathseo = _this$state5.pathseo,\n          warrently = _this$state5.warrently,\n          category = _this$state5.category,\n          brand = _this$state5.brand,\n          bigimage = _this$state5.bigimage,\n          image = _this$state5.image,\n          previewSource = _this$state5.previewSource,\n          fileInputState = _this$state5.fileInputState,\n          previewList = _this$state5.previewList,\n          specifications = _this$state5.specifications,\n          colorList = _this$state5.colorList,\n          nameColor = _this$state5.nameColor,\n          priceColor = _this$state5.priceColor,\n          amountColor = _this$state5.amountColor,\n          colorEditing = _this$state5.colorEditing,\n          btnStatus = _this$state5.btnStatus,\n          imageColor = _this$state5.imageColor,\n          previewColorImage = _this$state5.previewColorImage;\n      var _this$props4 = this.props,\n          large = _this$props4.large,\n          _onClose = _this$props4.onClose,\n          listCategories = _this$props4.listCategories,\n          listBrands = _this$props4.listBrands,\n          listColor = _this$props4.listColor,\n          product = _this$props4.product;\n      return /*#__PURE__*/React.createElement(CModal, {\n        show: large,\n        onClose: function onClose() {\n          return _onClose(!large);\n        },\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CModalHeader, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CModalTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }\n      }, product ? \"Sửa thông tin sản phẩm\" : \"Thêm sản phẩm mới\")), /*#__PURE__*/React.createElement(CModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 19\n        }\n      }, \"T\\xEAn s\\u1EA3n ph\\u1EA9m:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name\",\n        value: name,\n        disabled: product ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 19\n        }\n      }, \"Slug:\"), name ? /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"pathseo\",\n        disabled: product ? true : false,\n        value: pathseo ? pathseo : changeToSlug(name),\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 21\n        }\n      }) : /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"pathseo\",\n        value: pathseo,\n        disabled: product ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 19\n        }\n      }, \"Th\\u1EDDi h\\u1EA1n b\\u1EA3o h\\xE0nh:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"warrently\",\n        value: warrently,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 19\n        }\n      }, \"Lo\\u1EA1i s\\u1EA3n ph\\u1EA9m:\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        required: \"required\",\n        name: \"category\",\n        value: category,\n        onChange: this.onSelect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 19\n        }\n      }, listCategories.map(function (category, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: category._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 25\n          }\n        }, category.name);\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 19\n        }\n      }, \"T\\xEAn th\\u01B0\\u01A1ng hi\\u1EC7u:\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        required: \"required\",\n        name: \"brand\",\n        value: brand,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 19\n        }\n      }, listBrands.map(function (brand, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: brand._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 25\n          }\n        }, brand.name);\n      }))), bigimage ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group img-thumbnail3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 19\n        }\n      }, previewSource ? /*#__PURE__*/React.createElement(\"img\", {\n        src: previewSource,\n        className: \"w-100\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: bigimage.public_url,\n        style: {\n          border: \"1px solid\",\n          width: \"100%\"\n        },\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"file btn btn-lg btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 21\n        }\n      }, \"Change Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        id: \"fileInput\",\n        value: fileInputState,\n        onChange: this.handleFileInputChange,\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 23\n        }\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group img-thumbnail3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 19\n        }\n      }, previewSource ? /*#__PURE__*/React.createElement(\"img\", {\n        src: previewSource,\n        className: \"w-100\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n        alt: \"\",\n        style: {\n          border: \"1px solid\",\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"file btn btn-lg btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 21\n        }\n      }, \"Change Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        id: \"fileInput\",\n        value: fileInputState,\n        onChange: this.handleFileInputChange,\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 19\n        }\n      }, image && image.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \" img-thumbnail2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: item.public_url,\n          className: \"w-100\",\n          style: {\n            border: \"1px solid\"\n          },\n          alt: \"\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 31\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"btn btn-lg btn-primary img-des\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 31\n          }\n        }, \"Delete Photo\", /*#__PURE__*/React.createElement(\"input\", {\n          type: \"button\",\n          name: \"image\",\n          className: \"w-100 h-100\",\n          onClick: function onClick() {\n            return _this2.deletePhoto(item._id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 33\n          }\n        }))));\n      }), previewList[0] && /*#__PURE__*/React.createElement(React.Fragment, null, previewList.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"img-thumbnail2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: item,\n          alt: \"\",\n          className: \"w-100\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"btn btn-lg btn-primary img-des\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 33\n          }\n        }, \"Delete Photo\", /*#__PURE__*/React.createElement(\"input\", {\n          type: \"button\",\n          name: \"image\",\n          className: \"w-100 h-100\",\n          onClick: function onClick() {\n            return _this2.deletePreview(item);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 35\n          }\n        }))));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \" img-thumbnail2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n        alt: \"\",\n        className: \"w-100\",\n        style: {\n          border: \"1px solid\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn btn-lg btn-primary img-des\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 25\n        }\n      }, \"Add Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.handleListInputChange,\n        className: \"w-100 h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 27\n        }\n      })))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 15\n        }\n      }, \"Danh s\\xE1ch m\\xE0u\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary float-right\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.onAddColor(colorEditing);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 15\n        }\n      }, btnStatus), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-success float-right mr-2\",\n        style: {\n          display: colorEditing\n        },\n        onClick: function onClick() {\n          return _this2.onSaveColor();\n        },\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 15\n        }\n      }, \"L\\u01B0u\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          display: colorEditing\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"img-thumbnail2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 19\n        }\n      }, previewColorImage ? /*#__PURE__*/React.createElement(\"img\", {\n        src: previewColorImage,\n        className: \"w-100\",\n        style: {\n          border: \"1px solid\"\n        },\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 25\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: imageColor,\n        className: \"w-100\",\n        style: {\n          border: \"1px solid\"\n        },\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn btn-lg btn-primary img-des\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 21\n        }\n      }, \"Choose Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        className: \"w-100 h-100\",\n        value: fileInputState,\n        onChange: this.handleColorInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 23\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control my-1\",\n        required: \"required\",\n        name: \"nameColor\",\n        value: nameColor,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: -1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 21\n        }\n      }, \"Ch\\u1ECDn m\\xE0u\"), listColor.map(function (color, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: color._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 25\n          }\n        }, color.name_vn);\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control my-1\",\n        placeholder: \"Nh\\u1EADp gi\\xE1 s\\u1EA3n ph\\u1EA9m\",\n        type: \"number\",\n        name: \"priceColor\",\n        value: priceColor,\n        onChange: this.onChange,\n        min: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control my-1\",\n        placeholder: \"Nh\\u1EADp s\\u1ED1 l\\u01B0\\u1EE3ng\",\n        type: \"number\",\n        name: \"amountColor\",\n        value: amountColor,\n        onChange: this.onChange,\n        min: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        style: \"width: 18rem;\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-group list-group-flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"list-group-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 19\n        }\n      }, \"Cras justo odio\"))), colorList.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-4\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: item.image ? item.image : \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n          alt: \"\",\n          className: \"w-100\",\n          style: {\n            border: \"1px solid\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 23\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-4\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"d-block font-weight-bold\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 23\n          }\n        }, item.name_vn), /*#__PURE__*/React.createElement(\"label\", {\n          className: \"d-block font-italic\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 23\n          }\n        }, item.price), /*#__PURE__*/React.createElement(\"label\", {\n          className: \"d-block\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 23\n          }\n        }, item.amount)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-4\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-warning d-inline-block float-right m-1\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this2.onEditColor(item);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 23\n          }\n        }, \"S\\u1EEDa\"), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger d-inline-block float-right m-1\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this2.onDeleteColor(item);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 23\n          }\n        }, \"X\\xF3a\")));\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card text-white mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header bg-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 17\n        }\n      }, \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body text-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 17\n        }\n      }, specifications.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          key: index + 1,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 25\n          }\n        }, _this2.setSpecification(item._id)), /*#__PURE__*/React.createElement(\"input\", {\n          key: item._id,\n          type: \"text\",\n          className: \"form-control\",\n          name: item._id,\n          defaultValue: item.value,\n          onChange: _this2.onChangeDetail,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 25\n          }\n        }));\n      })))))), /*#__PURE__*/React.createElement(CModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CButton, {\n        color: \"success\",\n        onClick: function onClick() {\n          return _this2.onSubmitImage(!large);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 11\n        }\n      }, \"L\\u01B0u \\u1EA3nh\"), \" \", /*#__PURE__*/React.createElement(CButton, {\n        color: \"secondary\",\n        onClick: function onClick() {\n          return _onClose(!large);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 11\n        }\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return ProductDetail;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    productDetail: state.products.detail,\n    listBrands: state.brands.list,\n    listCategories: state.categories.list,\n    listOperations: state.operations.list,\n    listColor: state.color.list,\n    categoryDetail: state.categories.detail\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onCreate: function onCreate(params, formData) {\n      dispatch(ProductsActions.onCreate({\n        params: params,\n        formData: formData\n      }));\n    },\n    onUpdateImage: function onUpdateImage(id, params, formData) {\n      dispatch(ProductsActions.onUpdateImage({\n        id: id,\n        params: params,\n        formData: formData\n      }));\n    },\n    onGetListColor: function onGetListColor() {\n      dispatch(ColorActions.onGetList());\n    },\n    onGetListOperation: function onGetListOperation() {\n      dispatch(OperationActions.onGetList());\n    },\n    onGetDetailCategories: function onGetDetailCategories(id) {\n      dispatch(CategoryActions.onGetDetail(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);","map":{"version":3,"sources":["C:/Users/ngota/OneDrive/Documents/GitHub/WebBanDienThoai/CMD_WebBanDienThoai/src/components/Products/ProductDetail.js"],"names":["React","Component","connect","changeToSlug","toastError","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","ProductsActions","OperationActions","ColorActions","CategoryActions","ProductDetail","props","setValue","product","categoryDetail","specifications","length","map","item","push","_id","value","i","obj","Object","assign","onChange","event","target","name","setState","deletePhoto","id","image","state","deleteIndex","indexOf","find","img","splice","deletePreview","previewList","handleFileInputChange","e","file","files","previewFile","selectedFile","fileInputState","handleColorInputChange","previewColor","selectedColor","colorInputState","handleListInputChange","selectedList","fileInputList","reader","FileReader","readAsDataURL","onloadend","previewSource","result","previewColorImage","onSelect","onGetDetailCategories","onChangeDetail","prevState","onAddColor","colorEditing","btnStatus","onEditing","nameColor","amountColor","priceColor","imageColor","onEditColor","colorList","amount","price","indexColor","onDeleteColor","onSubmitImage","formData1","FormData","append","bigimage","formData2","onCallback","onerror","console","error","formData","onCreate","onUpdateImage","warrently","category","brand","pathseo","data","colors","setSpecification","specification","listSpecification","specificationName","listCategories","listBrands","findIndex","onGetListOperation","onGetListColor","listColor","name_vn","log","large","onClose","index","public_url","border","width","height","display","onSaveColor","color","mapStateToProps","productDetail","products","detail","brands","list","categories","listOperations","operations","mapDispatchToProps","dispatch","params","onGetList","onGetDetail"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./product.css\";\nimport { connect } from \"react-redux\";\n// @Functions\nimport changeToSlug from \"../../utils/ChangeToSlug\";\nimport { toastError } from \"../../utils/toastHelper\";\n// @ComponentS\nimport {\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n} from \"@coreui/react\";\n// @Actions\nimport ProductsActions from \"../../redux/actions/products\";\nimport OperationActions from \"../../redux/actions/operations\";\nimport ColorActions from \"../../redux/actions/color\";\nimport CategoryActions from \"../../redux/actions/categories\";\n\nclass ProductDetail extends Component {\n  constructor(props) {\n    super(props);\n    const { product, listCategories, listBrands } = props;\n    this.state = {\n      // @Product Info\n      id: product ? product._id : \"\",\n      name: product ? product.name : \"\",\n      pathseo: product ? product.pathseo : \"\",\n      warrently: product ? product.warrently : \"\",\n      category: product ? product.category._id : listCategories[0]._id,\n      brand: product ? product.brand._id : listBrands[0]._id,\n      bigimage: product ? product.bigimage : \"\",\n      image: product ? product.image : [],\n      // @Product Color\n      colorList: product ? product.colors : [],\n      nameColor: \"\",\n      amountColor: 0,\n      priceColor: 0,\n      colorEditing: \"none\",\n      btnStatus: \"Thêm màu\",\n      onEditing: false,\n      indexColor: -1,\n      imageColor:\n        \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n      previewColorImage: \"\",\n      selectedColor: \"\",\n      colorInputState: \"\",\n      // @Product Image\n      previewSource: \"\",\n      selectedFile: \"\",\n      fileInputState: \"\",\n      // @Product list images\n      previewList: [],\n      selectedList: [],\n      fileInputList: [],\n      // @Product Specifition\n      specifications: product\n        ? this.setValue(\n            product,\n            listCategories[\n              listCategories.findIndex((i) => i._id === product.category._id)\n            ]\n          )\n        : this.setValue(product, listCategories[0]),\n    };\n  }\n\n  setValue = (product, categoryDetail) => {\n    var specifications = [];\n    if (product) {\n      //Trường hợp sửa\n      if (product.specifications.length !== 0) {\n        categoryDetail.specifications.map((item) => {\n          specifications.push({\n            _id: item,\n            value: \"\",\n          });\n          product.specifications.map((i) => {\n            specifications.map((obj) =>\n              obj._id === i._id ? Object.assign(obj, { value: i.value }) : obj\n            );\n          });\n        });\n      } else {\n        //mảng specification=[]\n        categoryDetail.specifications.map((item) => {\n          specifications.push({\n            _id: item,\n            value: \"\",\n          });\n        });\n      }\n    } else {\n      //Trường hợp thêm\n      categoryDetail.specifications.map((item) => {\n        specifications.push({\n          _id: item,\n          value: \"\",\n        });\n      });\n    }\n    return specifications;\n  };\n\n  componentWillMount() {\n    const { onGetListOperation, onGetListColor } = this.props;\n    onGetListOperation();\n    onGetListColor();\n  }\n\n  onChange = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  deletePhoto = (id) => {\n    const { image } = this.state;\n    // Vị trí trong mảng có image cần xóa\n    var deleteIndex = image.indexOf(image.find((img) => img._id === id));\n    // Tạo mảng mới không có phần tử muốn xóa\n    image.splice(deleteIndex, 1);\n    this.setState({\n      image,\n    });\n  };\n\n  deletePreview = (item) => {\n    const { previewList } = this.state;\n    // Vị trí trong mảng có image cần xóa\n    var deleteIndex = previewList.indexOf(\n      previewList.find((img) => img === item)\n    );\n    // Tạo mảng mới không có phần tử muốn xóa\n    previewList.splice(deleteIndex, 1);\n    this.setState({\n      previewList,\n    });\n  };\n\n  handleFileInputChange = (e) => {\n    const file = e.target.files[0];\n    // 1. Hiển thị ảnh vừa thêm\n    this.previewFile(file);\n    this.setState({\n      selectedFile: file,\n      fileInputState: e.target.value,\n    });\n  };\n  handleColorInputChange = (e) => {\n    const file = e.target.files[0];\n    // 1. Hiển thị ảnh vừa thêm\n    this.previewColor(file);\n    this.setState({\n      selectedColor: file,\n      colorInputState: e.target.value,\n    });\n  };\n  handleListInputChange = (e) => {\n    const file = e.target.files[0];\n    const { selectedList, fileInputList } = this.state;\n    // 1. Hiển thị ảnh vừa thêm\n    this.previewList(file);\n    selectedList.push(file);\n    fileInputList.push(e.target.value);\n    this.setState({\n      selectedList,\n      fileInputList,\n    });\n  };\n\n  // Hàm xử lý file - set hiển thị ảnh mới thêm vào state previewSource\n  previewFile = (file) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      this.setState({\n        previewSource: reader.result,\n      });\n    };\n  };\n  //\n  previewColor = (file) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      this.setState({\n        previewColorImage: reader.result,\n      });\n    };\n  };\n  // Hàm xử lý file - set hiển thị ảnh mới thêm vào state previewSource\n  previewList = (file) => {\n    const reader = new FileReader();\n    const { previewList } = this.state;\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      previewList.push(reader.result);\n      this.setState({\n        previewList,\n      });\n    };\n  };\n\n  onSelect = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var id = target.value;\n    const { onGetDetailCategories } = this.props;\n    this.setState({\n      [name]: id,\n    });\n    onGetDetailCategories(id);\n  };\n\n  onChangeDetail = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState((prevState) => ({\n      specifications: prevState.specifications.map((obj) =>\n        obj._id === name ? Object.assign(obj, { value }) : obj\n      ),\n    }));\n  };\n\n  onAddColor = (value) => {\n    if (value === \"none\") {\n      this.setState({\n        colorEditing: \"inline-flex\",\n        btnStatus: \"Hủy\",\n        onEditing: false,\n      });\n    } else {\n      this.setState({\n        colorEditing: \"none\",\n        btnStatus: \"Thêm màu\",\n        nameColor: \"\",\n        amountColor: 0,\n        priceColor: 0,\n        onEditing: false,\n        imageColor:\n          \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n      });\n    }\n  };\n\n  onEditColor = (item) => {\n    const { colorList } = this.state;\n    this.setState({\n      nameColor: item._id,\n      amountColor: item.amount,\n      priceColor: item.price,\n      colorEditing: \"inline-flex\",\n      imageColor: item.image,\n      btnStatus: \"Hủy\",\n      onEditing: true,\n      indexColor: colorList.indexOf(item),\n    });\n  };\n\n  onDeleteColor = (item) => {\n    const { colorList } = this.state;\n    colorList.splice(colorList.indexOf(item), 1);\n    this.setState({\n      colorList,\n    });\n  };\n\n  onSaveColor() {\n    const {nameColor,\n      priceColor,\n      amountColor,\n      onEditing,\n      indexColor,\n      colorList\n    } = this.state;\n    const { listColor } = this.props;\n    if(!nameColor){\n      toastError(\"Chọn màu trước khi lưu\");\n    }\n    else{\n      if (onEditing === false) {\n        // TH thêm màu\n        if (colorList.find((obj) => obj._id === nameColor)) {\n          toastError(\"Màu này đã tồn tại\");\n        } else {\n          colorList.push({\n            _id: nameColor,\n            name_vn: listColor.find((obj) => obj._id === nameColor).name_vn,\n            amount: amountColor,\n            price: priceColor,\n          });\n        }\n      } else {\n        // TH sửa màu\n        for (let i = 0; i < colorList.length; i++) {\n          colorList[indexColor] = {\n            _id: nameColor,\n            name_vn: listColor.find((obj) => obj._id === nameColor).name_vn,\n            amount: amountColor,\n            price: priceColor,\n          };\n        }\n      }\n    }\n    this.setState({\n      colorList,\n    });\n    console.log(\"colorList\", colorList);\n  }\n\n  componentDidUpdate(props) {\n    const { product, categoryDetail, listCategories } = this.props;\n    if (categoryDetail !== props.categoryDetail && categoryDetail) {\n      // categoryDetail thay doi\n      if (product && categoryDetail._id === product.category._id) {\n        // truong hop sua\n        if (product.specifications.length > 0) {\n          this.setState({\n            specifications: this.setValue(\n              product,\n              listCategories[\n                listCategories.findIndex((i) => i._id === product.category._id)\n              ]\n            ),\n          });\n        } else {\n          this.setState({\n            specifications: this.setValue(product, categoryDetail),\n          });\n        }\n      } else {\n        // truong hop them moi\n        this.setState({\n          specifications: this.setValue(product, categoryDetail),\n        });\n      }\n    }\n  }\n\n  onSubmitImage = async () => {\n    const { selectedFile, selectedList, id } = this.state;\n    // @Condition cloudinary là FormData()\n    // @Xử lý ảnh trước khi lưu\n    // Nếu có import thumbnail mới thì\n    if (selectedFile && selectedList.length !== 0) {\n      var formData1 = new FormData();\n      formData1.append(\"image\", selectedFile);\n      await this.setState({\n        bigimage: formData1,\n      });\n      var formData2 = new FormData();\n      for (var i = 0; i < selectedList.length; i++) {\n        formData2.append(\"image\", selectedList[i]);\n      }\n      this.onCallback(id, formData2);\n    } else if (selectedFile) {\n      // 1. Lưu cloudinary\n      // eslint-disable-next-line\n      var reader = new FileReader();\n      reader.readAsDataURL(selectedFile);\n      // 2. Lưu state dạng FormData\n      reader.onloadend = () => {\n        // eslint-disable-next-line\n        var formData1 = new FormData();\n        formData1.append(\"image\", selectedFile);\n        this.setState({\n          bigimage: formData1,\n        });\n        this.onCallback(id);\n      };\n      reader.onerror = () => {\n        console.error(\"Lỗi không thêm mới được Thumbnail product\");\n      };\n    } else if (selectedList.length !== 0) {\n      // 1. Lưu cloudinary\n      // eslint-disable-next-line\n      var formData2 = new FormData();\n      for (i = 0; i < selectedList.length; i++) {\n        formData2.append(\"image\", selectedList[i]);\n      }\n      this.onCallback(id, formData2);\n    } else {\n      this.onCallback(id, null);\n    }\n    // @Xử lý các thông tin khác\n    // 3. Update data\n  };\n\n  onCallback = (id, formData) => {\n    const { onCreate, onUpdateImage } = this.props;\n    const {\n      name,\n      price,\n      amount,\n      warrently,\n      category,\n      brand,\n      bigimage,\n      image,\n      pathseo,\n      specifications,\n      colorList\n    } = this.state;\n    if (id) {\n      // eslint-disable-next-line\n      var data = {\n        name,\n        price,\n        amount,\n        warrently,\n        category,\n        brand,\n        bigimage,\n        image,\n        pathseo,\n        specifications,\n        colors: colorList\n      };\n      onUpdateImage(id, data, formData);\n    } else {\n      // 4. Create data\n      // eslint-disable-next-line\n      var data = {\n        name,\n        price,\n        amount,\n        warrently,\n        category,\n        brand,\n        bigimage,\n        pathseo,\n        image,\n        specifications,\n        colors: colorList\n      };\n      onCreate(data, formData);\n    }\n  };\n\n  setSpecification = (specification) => {\n    const { listSpecification } = this.props;\n    const specificationName = listSpecification.find(\n      (obj) => obj._id === specification\n    );\n    return specificationName.name;\n  };\n\n  render() {\n    const {\n      name,\n      pathseo,\n      warrently,\n      category,\n      brand,\n      bigimage,\n      image,\n      previewSource,\n      fileInputState,\n      previewList,\n      specifications,\n      colorList,\n      nameColor,\n      priceColor,\n      amountColor,\n      colorEditing,\n      btnStatus,\n      imageColor,\n      previewColorImage,\n    } = this.state;\n    const {\n      large,\n      onClose,\n      listCategories,\n      listBrands,\n      listColor,\n      product,\n    } = this.props;\n    return (\n      <CModal show={large} onClose={() => onClose(!large)} size=\"lg\">\n        <CModalHeader closeButton>\n          <CModalTitle>\n            {product ? \"Sửa thông tin sản phẩm\" : \"Thêm sản phẩm mới\"}\n          </CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n          <div className=\"row\">\n            <div className=\"col-12 col-lg-6\">\n              <form>\n                <div className=\"form-group\">\n                  <label>Tên sản phẩm:</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"name\"\n                    value={name}\n                    disabled={product ? true : false}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Slug:</label>\n                  {name ? (\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"pathseo\"\n                      disabled={product ? true : false}\n                      value={pathseo ? pathseo : changeToSlug(name)}\n                      onChange={this.onChange}\n                    />\n                  ) : (\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"pathseo\"\n                      value={pathseo}\n                      disabled={product ? true : false}\n                      onChange={this.onChange}\n                    />\n                  )}\n                </div>\n                <div className=\"form-group\">\n                  <label>Thời hạn bảo hành:</label>\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    name=\"warrently\"\n                    value={warrently}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Loại sản phẩm:</label>\n                  <select\n                    className=\"form-control\"\n                    required=\"required\"\n                    name=\"category\"\n                    value={category}\n                    onChange={this.onSelect}\n                  >\n                    {listCategories.map((category, index) => {\n                      return (\n                        <option key={index} value={category._id}>\n                          {category.name}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label>Tên thương hiệu:</label>\n                  <select\n                    className=\"form-control\"\n                    required=\"required\"\n                    name=\"brand\"\n                    value={brand}\n                    onChange={this.onChange}\n                  >\n                    {listBrands.map((brand, index) => {\n                      return (\n                        <option key={index} value={brand._id}>\n                          {brand.name}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n                {bigimage ? (\n                  <div className=\"form-group img-thumbnail3\">\n                    {previewSource ? (\n                      <img src={previewSource} className=\"w-100\" alt=\"\" />\n                    ) : (\n                      <img\n                        src={bigimage.public_url}\n                        style={{ border: \"1px solid\", width: \"100%\" }}\n                        alt=\"\"\n                      />\n                    )}\n                    <div className=\"file btn btn-lg btn-primary\">\n                      Change Photo\n                      <input\n                        type=\"file\"\n                        name=\"image\"\n                        id=\"fileInput\"\n                        value={fileInputState}\n                        onChange={this.handleFileInputChange}\n                        style={{ width: \"100%\" }}\n                      />\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"form-group img-thumbnail3\">\n                    {previewSource ? (\n                      <img src={previewSource} className=\"w-100\" alt=\"\" />\n                    ) : (\n                      <img\n                        src=\"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\"\n                        alt=\"\"\n                        style={{ border: \"1px solid\", width: \"100%\" }}\n                      ></img>\n                    )}\n                    <div className=\"file btn btn-lg btn-primary\">\n                      Change Photo\n                      <input\n                        type=\"file\"\n                        name=\"image\"\n                        id=\"fileInput\"\n                        value={fileInputState}\n                        onChange={this.handleFileInputChange}\n                        style={{ width: \"100%\", height: \"100%\" }}\n                      />\n                    </div>\n                  </div>\n                )}\n                <div className=\"form-group\">\n                  <div className=\"row\">\n                    {image &&\n                      image.map((item, index) => {\n                        return (\n                          <div className=\"col-3\" key={index}>\n                            <div className=\" img-thumbnail2\">\n                              <img\n                                src={item.public_url}\n                                className=\"w-100\"\n                                style={{ border: \"1px solid\" }}\n                                alt=\"\"\n                              ></img>\n                              <div className=\"btn btn-lg btn-primary img-des\">\n                                Delete Photo\n                                <input\n                                  type=\"button\"\n                                  name=\"image\"\n                                  className=\"w-100 h-100\"\n                                  onClick={() => this.deletePhoto(item._id)}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    {previewList[0] && (\n                      <>\n                        {previewList.map((item, index) => {\n                          return (\n                            <div className=\"col-3\" key={index}>\n                              <div className=\"img-thumbnail2\">\n                                <img src={item} alt=\"\" className=\"w-100\" />\n                                <div className=\"btn btn-lg btn-primary img-des\">\n                                  Delete Photo\n                                  <input\n                                    type=\"button\"\n                                    name=\"image\"\n                                    className=\"w-100 h-100\"\n                                    onClick={() => this.deletePreview(item)}\n                                  />\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </>\n                    )}\n                    <div className=\"col-3\">\n                      <div className=\" img-thumbnail2\">\n                        <img\n                          src=\"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\"\n                          alt=\"\"\n                          className=\"w-100\"\n                          style={{ border: \"1px solid\" }}\n                        ></img>\n                        <div className=\"btn btn-lg btn-primary img-des\">\n                          Add Photo\n                          <input\n                            type=\"file\"\n                            onChange={this.handleListInputChange}\n                            className=\"w-100 h-100\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-12 col-lg-6\">\n              <h5 className=\"d-inline-block\">Danh sách màu</h5>\n              <button\n                className=\"btn btn-primary float-right\"\n                type=\"button\"\n                onClick={() => this.onAddColor(colorEditing)}\n              >\n                {btnStatus}\n              </button>\n              <button\n                className=\"btn btn-success float-right mr-2\"\n                style={{ display: colorEditing }}\n                onClick={() => this.onSaveColor()}\n                type=\"button\"\n              >\n                Lưu\n              </button>\n              <div\n                className=\"row\"\n                style={{ display: colorEditing }}\n              >\n                <div className=\"col-5\">\n                  <div className=\"img-thumbnail2\">\n                    {previewColorImage\n                      ? <img src={previewColorImage}\n                        className=\"w-100\"\n                        style={{ border: \"1px solid\" }}\n                        alt=\"\"></img>\n                      : <img\n                        src={imageColor}\n                        className=\"w-100\"\n                        style={{ border: \"1px solid\" }}\n                        alt=\"\"\n                      ></img>\n                    }\n                    <div className=\"btn btn-lg btn-primary img-des\">\n                      Choose Photo\n                      <input\n                        type=\"file\"\n                        name=\"image\"\n                        className=\"w-100 h-100\"\n                        value={fileInputState}\n                        onChange={this.handleColorInputChange}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-7\">\n                  <select\n                    className=\"form-control my-1\"\n                    required=\"required\"\n                    name=\"nameColor\"\n                    value={nameColor}\n                    onChange={this.onChange}\n                  >\n                    <option value={-1}>Chọn màu</option>\n                    {listColor.map((color, index) => {\n                      return (\n                        <option key={index} value={color._id}>\n                          {color.name_vn}\n                        </option>\n                      );\n                    })}\n                  </select>\n                  <input\n                    className=\"form-control my-1\"\n                    placeholder=\"Nhập giá sản phẩm\"\n                    type=\"number\"\n                    name=\"priceColor\"\n                    value={priceColor}\n                    onChange={this.onChange}\n                    min=\"0\"\n                  ></input>\n                  <input\n                    className=\"form-control my-1\"\n                    placeholder=\"Nhập số lượng\"\n                    type=\"number\"\n                    name=\"amountColor\"\n                    value={amountColor}\n                    onChange={this.onChange}\n                    min=\"0\"\n                  ></input>\n                </div>\n              </div>\n              <div className=\"card\" style=\"width: 18rem;\">\n                <ul className=\"list-group list-group-flush\">\n                  <li className=\"list-group-item\">Cras justo odio</li>\n                </ul>\n              </div>\n              {colorList.map((item, index) => {\n                return (\n                  <div className=\"\" key={index}>\n                    <div className=\"col-4\">\n                      <img\n                        src={item.image ? item.image: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\"}\n                        alt=\"\"\n                        className=\"w-100\"\n                        style={{ border: \"1px solid\" }}\n                      />\n                    </div>\n                    <div className=\"col-4\">\n                      <label className=\"d-block font-weight-bold\">\n                        {item.name_vn}\n                      </label>\n                      <label className=\"d-block font-italic\">\n                        {item.price}\n                      </label>\n                      <label className=\"d-block\">{item.amount}</label>\n                    </div>\n                    <div className=\"col-4\">\n                      <button\n                        className=\"btn btn-warning d-inline-block float-right m-1\"\n                        type=\"button\"\n                        onClick={() => this.onEditColor(item)}\n                      >\n                        Sửa\n                      </button>\n                      <button\n                        className=\"btn btn-danger d-inline-block float-right m-1\"\n                        type=\"button\"\n                        onClick={() => this.onDeleteColor(item)}\n                      >\n                        Xóa\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n              <div className=\"card text-white mb-3\">\n                <div className=\"card-header bg-primary\">\n                  Chi tiết sản phẩm\n                </div>\n                <div className=\"card-body text-dark\">\n                  {specifications.map((item, index) => {\n                    return (\n                      <div className=\"form-group\" key={index}>\n                        <label key={index + 1}>\n                          {this.setSpecification(item._id)}\n                        </label>\n                        <input\n                          key={item._id}\n                          type=\"text\"\n                          className=\"form-control\"\n                          name={item._id}\n                          defaultValue={item.value}\n                          onChange={this.onChangeDetail}\n                        />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"success\" onClick={() => this.onSubmitImage(!large)}>\n            Lưu ảnh\n          </CButton>{\" \"}\n          <CButton color=\"secondary\" onClick={() => onClose(!large)}>\n            Cancel\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    productDetail: state.products.detail,\n    listBrands: state.brands.list,\n    listCategories: state.categories.list,\n    listOperations: state.operations.list,\n    listColor: state.color.list,\n    categoryDetail: state.categories.detail,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onCreate: (params, formData) => {\n      dispatch(ProductsActions.onCreate({ params, formData }));\n    },\n    onUpdateImage: (id, params, formData) => {\n      dispatch(ProductsActions.onUpdateImage({ id, params, formData }));\n    },\n    onGetListColor: () => {\n      dispatch(ColorActions.onGetList());\n    },\n    onGetListOperation: () => {\n      dispatch(OperationActions.onGetList());\n    },\n    onGetDetailCategories: (id) => {\n      dispatch(CategoryActions.onGetDetail(id));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\n"]},"metadata":{},"sourceType":"module"}