{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { get, cloneDeep } from \"lodash\";\nimport { ImagesActionTypes } from \"../actions/cloudinary\";\nvar init = {\n  loading: true,\n  detail: null,\n  processing: false\n};\n\nfunction handleUpdate(_ref) {\n  var state = _ref.state,\n      action = _ref.action;\n  var list = cloneDeep(state.list);\n  var detailData = get(action, \"payload.data\");\n  var index = list.findIndex(function (i) {\n    return i.id === detailData.id;\n  });\n  console.log(\"index\", index);\n\n  if (index !== -1) {\n    list[index] = _objectSpread(_objectSpread({}, list[index]), detailData);\n  }\n\n  return _objectSpread(_objectSpread({}, state), {}, {\n    processing: false,\n    list: list,\n    detail: _objectSpread(_objectSpread({}, state.detail), {}, {\n      data: _objectSpread(_objectSpread({}, state.detail.data), detailData)\n    })\n  });\n}\n\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : init;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ImagesActionTypes.CLEAR_DETAIL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        detail: null,\n        loadingDetail: true\n      });\n\n    case ImagesActionTypes.CLEAR_STATE:\n      return _objectSpread({}, init);\n\n    case ImagesActionTypes.GET_LIST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true\n      });\n\n    case ImagesActionTypes.GET_LIST_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false\n        /*apiResultGetList: omit(get(action, \"payload\"), [\"data\"]), */\n\n      });\n\n    case ImagesActionTypes.GET_LIST_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        list: get(action, \"payload\", [])\n      });\n\n    case ImagesActionTypes.GET_DETAIL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loadingDetail: true,\n        detail: null\n      });\n\n    case ImagesActionTypes.GET_DETAIL_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loadingDetail: false,\n        detail: action.payload\n      });\n\n    case ImagesActionTypes.GET_DETAIL_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loadingDetail: false,\n        detail: action.payload\n      });\n\n    case ImagesActionTypes.CREATE:\n    case ImagesActionTypes.UPDATE:\n    case ImagesActionTypes.DELETE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        processing: true\n      });\n\n    case ImagesActionTypes.CREATE_ERROR:\n    case ImagesActionTypes.UPDATE_ERROR:\n    case ImagesActionTypes.DELETE_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        processing: false\n      });\n\n    case ImagesActionTypes.UPDATE_SUCCESS:\n      return handleUpdate({\n        state: state,\n        action: action\n      });\n\n    case ImagesActionTypes.CREATE_SUCCESS:\n    case ImagesActionTypes.DELETE_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        processing: false\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/ngota/OneDrive/Documents/GitHub/WebBanDienThoai/CMD_WebBanDienThoai/src/redux/reducers/cloudinary.js"],"names":["get","cloneDeep","ImagesActionTypes","init","loading","detail","processing","handleUpdate","state","action","list","detailData","index","findIndex","i","id","console","log","data","type","CLEAR_DETAIL","loadingDetail","CLEAR_STATE","GET_LIST","GET_LIST_ERROR","GET_LIST_SUCCESS","GET_DETAIL","GET_DETAIL_SUCCESS","payload","GET_DETAIL_ERROR","CREATE","UPDATE","DELETE","CREATE_ERROR","UPDATE_ERROR","DELETE_ERROR","UPDATE_SUCCESS","CREATE_SUCCESS","DELETE_SUCCESS"],"mappings":"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","sourcesContent":["import { get,  cloneDeep } from \"lodash\";\nimport { ImagesActionTypes } from \"../actions/cloudinary\";\n\nconst init = {\n  loading: true,\n  detail: null,\n  processing: false,\n};\n\nfunction handleUpdate({state, action}) {\n  const list = cloneDeep(state.list);\n  const detailData = get(action, \"payload.data\");\n  const index = list.findIndex(i => i.id === detailData.id);\n  console.log(\"index\", index);\n  if (index !== -1) {\n    list[index] = {...list[index], ...detailData};\n  }\n  return {\n    ...state,\n    processing: false,\n    list,\n    detail: {\n      ...state.detail,\n      data: { ...state.detail.data, ...detailData },\n    },\n  };\n}\n\nexport default function(state = init, action) {\n  switch (action.type) {\n    case ImagesActionTypes.CLEAR_DETAIL:\n      return {\n        ...state,\n        detail: null,\n        loadingDetail: true,\n      };\n\n    case ImagesActionTypes.CLEAR_STATE:\n      return {\n        ...init,\n      };\n\n    case ImagesActionTypes.GET_LIST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case ImagesActionTypes.GET_LIST_ERROR:\n      return {\n        ...state,\n         loading: false,\n        /*apiResultGetList: omit(get(action, \"payload\"), [\"data\"]), */\n      };\n\n    case ImagesActionTypes.GET_LIST_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        list: get(action, \"payload\", []),\n      };\n\n    case ImagesActionTypes.GET_DETAIL:\n      return {\n        ...state,\n        loadingDetail: true,\n        detail: null,\n      };\n\n    case ImagesActionTypes.GET_DETAIL_SUCCESS:\n      return {\n        ...state,\n        loadingDetail: false,\n        detail: action.payload,\n      };\n\n    case ImagesActionTypes.GET_DETAIL_ERROR:\n      return {\n        ...state,\n        loadingDetail: false,\n        detail: action.payload,\n      };\n\n    case ImagesActionTypes.CREATE:\n    case ImagesActionTypes.UPDATE:\n    case ImagesActionTypes.DELETE:\n      return {\n        ...state,\n        processing: true,\n      };\n\n    case ImagesActionTypes.CREATE_ERROR:\n    case ImagesActionTypes.UPDATE_ERROR:\n    case ImagesActionTypes.DELETE_ERROR:\n      return {\n        ...state,\n        processing: false,\n      };\n    case ImagesActionTypes.UPDATE_SUCCESS:\n      return handleUpdate({state, action});\n\n    case ImagesActionTypes.CREATE_SUCCESS:\n    case ImagesActionTypes.DELETE_SUCCESS:\n      return {\n        ...state,\n        processing: false,\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}