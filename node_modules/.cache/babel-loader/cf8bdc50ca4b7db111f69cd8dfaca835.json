{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { get, cloneDeep } from \"lodash\";\nimport { BrandActionTypes } from \"../actions/brands\";\nvar init = {\n  loading: true,\n  detail: null,\n  processing: false\n};\n\nfunction handleUpdate(_ref) {\n  var state = _ref.state,\n      action = _ref.action;\n  var list = cloneDeep(state.list);\n  var detailData = get(action, \"payload.data\");\n  var index = list.findIndex(function (i) {\n    return i.id === detailData.id;\n  });\n  console.log(\"index\", index);\n\n  if (index !== -1) {\n    list[index] = _objectSpread(_objectSpread({}, list[index]), detailData);\n  }\n\n  return _objectSpread(_objectSpread({}, state), {}, {\n    processing: false,\n    list: list,\n    detail: _objectSpread(_objectSpread({}, state.detail), {}, {\n      data: _objectSpread(_objectSpread({}, state.detail.data), detailData)\n    })\n  });\n}\n\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : init;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case BrandActionTypes.CLEAR_DETAIL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        detail: null,\n        loadingDetail: true\n      });\n\n    case BrandActionTypes.CLEAR_STATE:\n      return _objectSpread({}, init);\n\n    case BrandActionTypes.GET_LIST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true\n      });\n\n    case BrandActionTypes.GET_LIST_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false\n        /*apiResultGetList: omit(get(action, \"payload\"), [\"data\"]), */\n\n      });\n\n    case BrandActionTypes.GET_LIST_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        list: get(action, \"payload\", [])\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/ngota/OneDrive/Documents/GitHub/WebBanDienThoai/CMD_WebBanDienThoai/src/redux/reducers/brands.js"],"names":["get","cloneDeep","BrandActionTypes","init","loading","detail","processing","handleUpdate","state","action","list","detailData","index","findIndex","i","id","console","log","data","type","CLEAR_DETAIL","loadingDetail","CLEAR_STATE","GET_LIST","GET_LIST_ERROR","GET_LIST_SUCCESS"],"mappings":";AAAA,SAASA,GAAT,EAAcC,SAAd,QAA+B,QAA/B;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,OAAO,EAAE,IADE;AAEXC,EAAAA,MAAM,EAAE,IAFG;AAGXC,EAAAA,UAAU,EAAE;AAHD,CAAb;;AAMA,SAASC,YAAT,OAAuC;AAAA,MAAhBC,KAAgB,QAAhBA,KAAgB;AAAA,MAATC,MAAS,QAATA,MAAS;AACrC,MAAMC,IAAI,GAAGT,SAAS,CAACO,KAAK,CAACE,IAAP,CAAtB;AACA,MAAMC,UAAU,GAAGX,GAAG,CAACS,MAAD,EAAS,cAAT,CAAtB;AACA,MAAMG,KAAK,GAAGF,IAAI,CAACG,SAAL,CAAe,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,EAAF,KAASJ,UAAU,CAACI,EAAxB;AAAA,GAAhB,CAAd;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBL,KAArB;;AACA,MAAIA,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBF,IAAAA,IAAI,CAACE,KAAD,CAAJ,mCAAkBF,IAAI,CAACE,KAAD,CAAtB,GAAkCD,UAAlC;AACD;;AACD,yCACKH,KADL;AAEEF,IAAAA,UAAU,EAAE,KAFd;AAGEI,IAAAA,IAAI,EAAJA,IAHF;AAIEL,IAAAA,MAAM,kCACDG,KAAK,CAACH,MADL;AAEJa,MAAAA,IAAI,kCAAOV,KAAK,CAACH,MAAN,CAAaa,IAApB,GAA6BP,UAA7B;AAFA;AAJR;AASD;;AAED,eAAe,YAA+B;AAAA,MAAtBH,KAAsB,uEAAdL,IAAc;AAAA,MAARM,MAAQ;;AAC5C,UAAQA,MAAM,CAACU,IAAf;AACE,SAAKjB,gBAAgB,CAACkB,YAAtB;AACE,6CACKZ,KADL;AAEEH,QAAAA,MAAM,EAAE,IAFV;AAGEgB,QAAAA,aAAa,EAAE;AAHjB;;AAKF,SAAKnB,gBAAgB,CAACoB,WAAtB;AACE,+BACKnB,IADL;;AAGF,SAAKD,gBAAgB,CAACqB,QAAtB;AACE,6CACKf,KADL;AAEEJ,QAAAA,OAAO,EAAE;AAFX;;AAIF,SAAKF,gBAAgB,CAACsB,cAAtB;AACE,6CACKhB,KADL;AAEGJ,QAAAA,OAAO,EAAE;AACV;;AAHF;;AAMF,SAAKF,gBAAgB,CAACuB,gBAAtB;AACE,6CACKjB,KADL;AAEEJ,QAAAA,OAAO,EAAE,KAFX;AAGEM,QAAAA,IAAI,EAAEV,GAAG,CAACS,MAAD,EAAS,SAAT,EAAoB,EAApB;AAHX;;AAKF;AACE,aAAOD,KAAP;AA9BJ;AAgCD","sourcesContent":["import { get, cloneDeep } from \"lodash\";\nimport { BrandActionTypes } from \"../actions/brands\";\n\nconst init = {\n  loading: true,\n  detail: null,\n  processing: false,\n};\n\nfunction handleUpdate({state, action}) {\n  const list = cloneDeep(state.list);\n  const detailData = get(action, \"payload.data\");\n  const index = list.findIndex(i => i.id === detailData.id);\n  console.log(\"index\", index);\n  if (index !== -1) {\n    list[index] = {...list[index], ...detailData};\n  }\n  return {\n    ...state,\n    processing: false,\n    list,\n    detail: {\n      ...state.detail,\n      data: { ...state.detail.data, ...detailData },\n    },\n  };\n}\n\nexport default function(state = init, action) {\n  switch (action.type) {\n    case BrandActionTypes.CLEAR_DETAIL:\n      return {\n        ...state,\n        detail: null,\n        loadingDetail: true,\n      };\n    case BrandActionTypes.CLEAR_STATE:\n      return {\n        ...init,\n      };\n    case BrandActionTypes.GET_LIST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case BrandActionTypes.GET_LIST_ERROR:\n      return {\n        ...state,\n         loading: false,\n        /*apiResultGetList: omit(get(action, \"payload\"), [\"data\"]), */\n      };\n\n    case BrandActionTypes.GET_LIST_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        list: get(action, \"payload\", []),\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}