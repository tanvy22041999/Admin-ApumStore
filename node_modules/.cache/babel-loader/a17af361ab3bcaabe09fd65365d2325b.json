{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\src\\\\components\\\\Categories\\\\CategoryDetail.js\";\nimport React, { Component } from 'react';\nimport { get } from 'lodash';\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle, CDataTable } from '@coreui/react';\nimport { connect } from \"react-redux\"; // @Actions\n\nimport CategoryActions from \"../../redux/actions/categories\";\nimport SpecificationActions from \"../../redux/actions/specification\"; // @Functions\n\nimport { toastError } from \"../../utils/toastHelper\";\nvar fields = ['name', {\n  key: 'actions',\n  _style: {\n    width: '10%'\n  }\n}];\nvar _fields = ['name', 'query', {\n  key: 'actions',\n  _style: {\n    width: '35%'\n  }\n}];\n\nvar CategoryDetail = /*#__PURE__*/function (_Component) {\n  _inherits(CategoryDetail, _Component);\n\n  var _super = _createSuper(CategoryDetail);\n\n  function CategoryDetail(props) {\n    var _this;\n\n    _classCallCheck(this, CategoryDetail);\n\n    _this = _super.call(this, props);\n\n    _this.handleFilter = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n\n      var keyword = _this.state.keyword;\n      var onFilter = _this.props.onFilter;\n      onFilter(keyword);\n    };\n\n    _this.onChange = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.onSubmit = function () {\n      var _this$state = _this.state,\n          id = _this$state.id,\n          name = _this$state.name,\n          pathseo = _this$state.pathseo,\n          name_en = _this$state.name_en,\n          specifications = _this$state.specifications;\n      var _this$props = _this.props,\n          onUpdate = _this$props.onUpdate,\n          onCreate = _this$props.onCreate;\n      var data = {\n        name: name,\n        pathseo: pathseo,\n        name_en: name_en,\n        specifications: specifications\n      };\n\n      if (id) {\n        onUpdate(id, data);\n      } else {\n        // 4. Create data\n        onCreate(data);\n      }\n    };\n\n    _this.setSpecification = function (specification) {\n      var listSpecification = _this.props.listSpecification;\n      var specificationName = listSpecification.find(function (obj) {\n        return obj._id === specification;\n      });\n      return get(specificationName, \"name\");\n    };\n\n    _this.onAddSpecification = function (specification) {\n      var specifications = _this.state.specifications;\n      console.log(specifications);\n\n      if (specifications.findIndex(function (i) {\n        return i.name === specification.name;\n      }) !== -1) {\n        toastError(\"Thuộc tính này đã tồn tại trong danh sách\");\n      } else {\n        specifications.push(specification);\n      }\n\n      _this.setState({\n        specifications: specifications\n      });\n    };\n\n    _this.onDeleteSpecification = function (item) {\n      var specifications = _this.state.specifications;\n      specifications.splice(specifications.indexOf(item), 1);\n\n      _this.setState({\n        specifications: specifications\n      });\n    };\n\n    _this.onDeleteFilter = function (item) {};\n\n    _this.onAddFilter = function (value) {\n      if (value === \"none\") {\n        _this.setState({\n          filterEditing: \"inline-flex\",\n          btnStatus: \"Hủy\",\n          onEditing: false\n        });\n      } else {\n        //Click button Hủy\n        _this.setState({\n          // Gán giá trị button\n          filterEditing: \"none\",\n          btnStatus: \"Thêm bộ lọc\",\n          onEditing: false,\n          // Gán giá trị fields\n          idFilter: \"\",\n          query: \"\"\n        });\n      }\n    };\n\n    _this.onEditFilter = function (item) {\n      var filter = _this.state.filter;\n\n      _this.setState({\n        // Gán giá trị button\n        filterEditing: \"inline-flex\",\n        btnStatus: \"Hủy\",\n        // Gán giá trị fields\n        idFilter: item._id._id,\n        query: item.query,\n        onEditing: true,\n        indexFilter: filter.indexOf(item)\n      });\n    };\n\n    _this.onDeleteFilter = function (item) {\n      var filter = _this.state.filter;\n      filter.splice(filter.indexOf(item), 1);\n\n      _this.setState({\n        filter: filter\n      });\n    };\n\n    var category = props.category;\n    _this.state = {\n      id: category ? category._id : '',\n      name: category ? category.name : '',\n      name_en: category ? category.name_en : '',\n      pathseo: category ? category.pathseo : '',\n      specifications: category ? category.specifications : [],\n      filter: category ? category.filter : [],\n      keyword: \"\",\n      //Filter - bộ lọc\n      filterEditing: \"none\",\n      btnStatus: \"Thêm bộ lọc\",\n      onEditing: false,\n      indexFilter: -1,\n      idFilter: \"\",\n      query: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(CategoryDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var onGetListSpecification = this.props.onGetListSpecification;\n      onGetListSpecification();\n    }\n  }, {\n    key: \"onSaveFilter\",\n    value: function onSaveFilter() {\n      var _this$state2 = this.state,\n          idFilter = _this$state2.idFilter,\n          query = _this$state2.query,\n          onEditing = _this$state2.onEditing,\n          indexFilter = _this$state2.indexFilter,\n          filter = _this$state2.filter;\n\n      if (!idFilter) {\n        toastError(\"Chọn thuộc tính trước khi lưu\");\n      } else {\n        if (onEditing === false) {\n          // TH thêm màu\n          if (filter.find(function (obj) {\n            return obj._id._id === idFilter;\n          })) {\n            toastError(\"Thuộc tính này đã tồn tại\");\n          } else {\n            filter.push({\n              _id: {\n                _id: idFilter\n              },\n              query: query\n            });\n          }\n        } else {\n          // TH sửa màu\n          for (var i = 0; i < filter.length; i++) {\n            filter[indexFilter] = {\n              _id: {\n                _id: idFilter\n              },\n              query: query\n            };\n          }\n        }\n      }\n\n      this.setState({\n        filter: filter,\n        // Gán giá trị button\n        filterEditing: \"none\",\n        btnStatus: \"Thêm bộ lọc\",\n        // Gán giá trị fields\n        idFilter: \"\",\n        query: \"\",\n        onEditing: false\n      });\n      console.log(filter);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          name = _this$state3.name,\n          pathseo = _this$state3.pathseo,\n          name_en = _this$state3.name_en,\n          specifications = _this$state3.specifications,\n          filter = _this$state3.filter,\n          keyword = _this$state3.keyword,\n          filterEditing = _this$state3.filterEditing,\n          btnStatus = _this$state3.btnStatus,\n          idFilter = _this$state3.idFilter,\n          query = _this$state3.query;\n      var _this$props2 = this.props,\n          large = _this$props2.large,\n          _onClose = _this$props2.onClose,\n          category = _this$props2.category,\n          listSpecification = _this$props2.listSpecification,\n          listSearch = _this$props2.listSearch;\n      return /*#__PURE__*/React.createElement(CModal, {\n        show: large,\n        onClose: function onClose() {\n          return _onClose(!large);\n        },\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(CModalHeader, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(CModalTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }, category ? \"Sửa thông tin sản phẩm\" : \"Thêm sản phẩm mới\")), /*#__PURE__*/React.createElement(CModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 10\n        }\n      }, \"T\\xEAn lo\\u1EA1i s\\u1EA3n ph\\u1EA9m:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name\",\n        value: name,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 10\n        }\n      }, \"Slug:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"pathseo\",\n        value: pathseo,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 10\n        }\n      }, \"T\\xEAn lo\\u1EA1i s\\u1EA3n ph\\u1EA9m (English):\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name_en\",\n        value: name_en,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }\n      }, \"Danh m\\u1EE5c thu\\u1ED9c t\\xEDnh:\"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"relative\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        name: \"keyword\",\n        value: keyword,\n        onChange: this.handleFilter,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mb-0 w-100\",\n        style: {\n          position: \"absolute\",\n          zIndex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      }, listSearch && keyword && listSearch.map(function (specification, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row p-2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-9 align-self-center\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"mb-0\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 27\n          }\n        }, specification.name)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3 text-right my-auto\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-success\",\n          onClick: function onClick() {\n            return _this2.onAddSpecification(specification);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-plus-circle\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 120\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"border-bottom\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 23\n          }\n        }));\n      }))), listSpecification && /*#__PURE__*/React.createElement(CDataTable, {\n        items: specifications,\n        fields: fields,\n        striped: true,\n        itemsPerPage: 5,\n        pagination: true,\n        scopedSlots: {\n          'name': function name(item) {\n            return /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }\n            }, _this2.setSpecification(item._id));\n          },\n          'actions': function actions(item) {\n            return /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }\n            }, /*#__PURE__*/React.createElement(CButton, {\n              onClick: function onClick() {\n                return _this2.onDeleteSpecification(item);\n              },\n              className: \"mr-1 mb-1 mb-xl-0\",\n              color: \"danger\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 23\n              }\n            }, \"Xo\\xE1\"));\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"float-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }\n      }, \"Danh m\\u1EE5c b\\u1ED9 l\\u1ECDc:\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-success mr-2\",\n        style: {\n          display: filterEditing\n        },\n        onClick: function onClick() {\n          return _this2.onSaveFilter();\n        },\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 17\n        }\n      }, \"L\\u01B0u\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.onAddFilter(filterEditing);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 17\n        }\n      }, btnStatus)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row w-100 rounded border my-2\",\n        style: {\n          display: filterEditing\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }\n      }, \"T\\xEAn thu\\u1ED9c t\\xEDnh:\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control my-1\",\n        required: \"required\",\n        name: \"idFilter\",\n        value: idFilter,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: -1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }\n      }, \"Ch\\u1ECDn thu\\u1ED9c t\\xEDnh\"), specifications && specifications.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: item._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }\n        }, item.name);\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }\n      }, \"Query string:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"query\",\n        value: query,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }\n      })))), listSpecification && filter.length > 0 && /*#__PURE__*/React.createElement(CDataTable, {\n        items: filter,\n        fields: _fields,\n        striped: true,\n        itemsPerPage: 5,\n        pagination: true,\n        scopedSlots: {\n          'name': function name(item) {\n            return /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }\n            }, _this2.setSpecification(item._id._id));\n          },\n          'os': function os(item) {},\n          'actions': function actions(item) {\n            return /*#__PURE__*/React.createElement(\"td\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 21\n              }\n            }, /*#__PURE__*/React.createElement(CButton, {\n              onClick: function onClick() {\n                return _this2.onEditFilter(item);\n              },\n              className: \"mr-1 mb-1 mb-xl-0\",\n              color: \"warning\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 23\n              }\n            }, /*#__PURE__*/React.createElement(\"i\", {\n              className: \"fa fa-highlighter\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 25\n              }\n            })), /*#__PURE__*/React.createElement(CButton, {\n              onClick: function onClick() {\n                return _this2.onDeleteFilter(item);\n              },\n              className: \"mr-1 mb-1 mb-xl-0\",\n              color: \"danger\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 23\n              }\n            }, /*#__PURE__*/React.createElement(\"i\", {\n              className: \"fa fa-trash-alt\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 25\n              }\n            })));\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 58\n        }\n      })))), /*#__PURE__*/React.createElement(CModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(CButton, {\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.onSubmit(!large);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 6\n        }\n      }, \"Save\"), ' ', /*#__PURE__*/React.createElement(CButton, {\n        color: \"secondary\",\n        onClick: function onClick() {\n          return _onClose(!large);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 6\n        }\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return CategoryDetail;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    listSpecification: state.specification.list,\n    listSearch: state.specification.listSearch\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onCreate: function onCreate(params) {\n      dispatch(CategoryActions.onCreate({\n        params: params\n      }));\n    },\n    onUpdate: function onUpdate(id, params) {\n      dispatch(CategoryActions.onUpdate({\n        id: id,\n        params: params\n      }));\n    },\n    onGetListSpecification: function onGetListSpecification(params) {\n      dispatch(SpecificationActions.onGetList(params));\n    },\n    onFilter: function onFilter(keyword) {\n      dispatch(SpecificationActions.onFilter(keyword));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryDetail);","map":{"version":3,"sources":["C:/Users/ngota/OneDrive/Documents/GitHub/WebBanDienThoai/CMD_WebBanDienThoai/src/components/Categories/CategoryDetail.js"],"names":["React","Component","get","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","CDataTable","connect","CategoryActions","SpecificationActions","toastError","fields","key","_style","width","_fields","CategoryDetail","props","handleFilter","event","target","name","value","setState","keyword","state","onFilter","onChange","onSubmit","id","pathseo","name_en","specifications","onUpdate","onCreate","data","setSpecification","specification","listSpecification","specificationName","find","obj","_id","onAddSpecification","console","log","findIndex","i","push","onDeleteSpecification","item","splice","indexOf","onDeleteFilter","onAddFilter","filterEditing","btnStatus","onEditing","idFilter","query","onEditFilter","filter","indexFilter","category","onGetListSpecification","length","large","onClose","listSearch","position","zIndex","map","index","display","onSaveFilter","mapStateToProps","list","mapDispatchToProps","dispatch","params","onGetList"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,GAAR,QAAkB,QAAlB;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,UAA1B,EAAsCC,YAAtC,EAAoDC,YAApD,EAAkEC,WAAlE,EAA+EC,UAA/E,QAAiG,eAAjG;AACA,SAASC,OAAT,QAAwB,aAAxB,C,CACA;;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,oBAAP,MAAiC,mCAAjC,C,CACA;;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,IAAMC,MAAM,GAAG,CAAC,MAAD,EAAS;AAAEC,EAAAA,GAAG,EAAE,SAAP;AAAkBC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA1B,CAAT,CAAf;AACA,IAAMC,OAAO,GAAG,CAAC,MAAD,EAAU,OAAV,EAAkB;AAAEH,EAAAA,GAAG,EAAE,SAAP;AAAkBC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA1B,CAAlB,CAAhB;;IAEME,c;;;;;AACJ,0BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,8BAAMA,KAAN;;AADgB,UA0BlBC,YA1BkB,GA0BH,UAACC,KAAD,EAAW;AAC1B,UAAIC,MAAM,GAACD,KAAK,CAACC,MAAjB;AACE,UAAIC,IAAI,GAACD,MAAM,CAACC,IAAhB;AACA,UAAIC,KAAK,GAACF,MAAM,CAACE,KAAjB;;AACA,YAAKC,QAAL,qBACGF,IADH,EACWC,KADX;;AAJwB,UAOhBE,OAPgB,GAOJ,MAAKC,KAPD,CAOhBD,OAPgB;AAAA,UAQhBE,QARgB,GAQH,MAAKT,KARF,CAQhBS,QARgB;AASxBA,MAAAA,QAAQ,CAACF,OAAD,CAAR;AACF,KApCkB;;AAAA,UAsClBG,QAtCkB,GAsCP,UAACR,KAAD,EAAU;AACnB,UAAIC,MAAM,GAACD,KAAK,CAACC,MAAjB;AACA,UAAIC,IAAI,GAACD,MAAM,CAACC,IAAhB;AACA,UAAIC,KAAK,GAACF,MAAM,CAACE,KAAjB;;AACA,YAAKC,QAAL,qBACGF,IADH,EACWC,KADX;AAGD,KA7CiB;;AAAA,UA+ClBM,QA/CkB,GA+CP,YAAK;AAAA,wBACuC,MAAKH,KAD5C;AAAA,UACPI,EADO,eACPA,EADO;AAAA,UACHR,IADG,eACHA,IADG;AAAA,UACGS,OADH,eACGA,OADH;AAAA,UACYC,OADZ,eACYA,OADZ;AAAA,UACqBC,cADrB,eACqBA,cADrB;AAAA,wBAEe,MAAKf,KAFpB;AAAA,UAEPgB,QAFO,eAEPA,QAFO;AAAA,UAEGC,QAFH,eAEGA,QAFH;AAGd,UAAIC,IAAI,GAAG;AAACd,QAAAA,IAAI,EAAJA,IAAD;AAAOS,QAAAA,OAAO,EAAPA,OAAP;AAAgBC,QAAAA,OAAO,EAAPA,OAAhB;AAAyBC,QAAAA,cAAc,EAAdA;AAAzB,OAAX;;AACA,UAAIH,EAAJ,EAAQ;AACNI,QAAAA,QAAQ,CAACJ,EAAD,EAAKM,IAAL,CAAR;AACD,OAFD,MAGK;AACH;AACAD,QAAAA,QAAQ,CAACC,IAAD,CAAR;AACD;AACF,KA1DiB;;AAAA,UA4DlBC,gBA5DkB,GA4DC,UAACC,aAAD,EAAkB;AAAA,UAC5BC,iBAD4B,GACP,MAAKrB,KADE,CAC5BqB,iBAD4B;AAEnC,UAAMC,iBAAiB,GAAGD,iBAAiB,CAACE,IAAlB,CAAuB,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,GAAJ,KAAYL,aAAhB;AAAA,OAA1B,CAA1B;AACA,aAAOtC,GAAG,CAACwC,iBAAD,EAAoB,MAApB,CAAV;AACD,KAhEiB;;AAAA,UAkElBI,kBAlEkB,GAkEG,UAACN,aAAD,EAAkB;AAAA,UAC9BL,cAD8B,GACZ,MAAKP,KADO,CAC9BO,cAD8B;AAErCY,MAAAA,OAAO,CAACC,GAAR,CAAYb,cAAZ;;AACA,UAAGA,cAAc,CAACc,SAAf,CAAyB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAAC1B,IAAF,KAAWgB,aAAa,CAAChB,IAA7B;AAAA,OAA1B,MAAgE,CAAC,CAApE,EAAsE;AACpEX,QAAAA,UAAU,CAAC,2CAAD,CAAV;AACD,OAFD,MAGI;AACFsB,QAAAA,cAAc,CAACgB,IAAf,CAAoBX,aAApB;AACD;;AACD,YAAKd,QAAL,CAAc;AAACS,QAAAA,cAAc,EAAdA;AAAD,OAAd;AACD,KA5EiB;;AAAA,UA8ElBiB,qBA9EkB,GA8EM,UAACC,IAAD,EAAS;AAAA,UACxBlB,cADwB,GACN,MAAKP,KADC,CACxBO,cADwB;AAE/BA,MAAAA,cAAc,CAACmB,MAAf,CAAsBnB,cAAc,CAACoB,OAAf,CAAuBF,IAAvB,CAAtB,EAAoD,CAApD;;AACA,YAAK3B,QAAL,CAAc;AAACS,QAAAA,cAAc,EAAdA;AAAD,OAAd;AACD,KAlFiB;;AAAA,UAmFlBqB,cAnFkB,GAmFD,UAACH,IAAD,EAAU,CAE1B,CArFiB;;AAAA,UAuFlBI,WAvFkB,GAuFJ,UAAChC,KAAD,EAAW;AACvB,UAAIA,KAAK,KAAK,MAAd,EAAsB;AACpB,cAAKC,QAAL,CAAc;AACZgC,UAAAA,aAAa,EAAE,aADH;AAEZC,UAAAA,SAAS,EAAE,KAFC;AAGZC,UAAAA,SAAS,EAAE;AAHC,SAAd;AAKD,OAND,MAMO;AAAG;AACR,cAAKlC,QAAL,CAAc;AACZ;AACAgC,UAAAA,aAAa,EAAE,MAFH;AAGZC,UAAAA,SAAS,EAAE,aAHC;AAIZC,UAAAA,SAAS,EAAE,KAJC;AAKZ;AACAC,UAAAA,QAAQ,EAAE,EANE;AAOZC,UAAAA,KAAK,EAAE;AAPK,SAAd;AASD;AACF,KAzGiB;;AAAA,UAwJlBC,YAxJkB,GAwJH,UAACV,IAAD,EAAU;AAAA,UACfW,MADe,GACJ,MAAKpC,KADD,CACfoC,MADe;;AAEvB,YAAKtC,QAAL,CAAc;AACZ;AACAgC,QAAAA,aAAa,EAAE,aAFH;AAGZC,QAAAA,SAAS,EAAE,KAHC;AAIZ;AACAE,QAAAA,QAAQ,EAAER,IAAI,CAACR,GAAL,CAASA,GALP;AAMZiB,QAAAA,KAAK,EAAET,IAAI,CAACS,KANA;AAOZF,QAAAA,SAAS,EAAE,IAPC;AAQZK,QAAAA,WAAW,EAAED,MAAM,CAACT,OAAP,CAAeF,IAAf;AARD,OAAd;AAUD,KApKiB;;AAAA,UAsKlBG,cAtKkB,GAsKD,UAACH,IAAD,EAAU;AAAA,UACjBW,MADiB,GACN,MAAKpC,KADC,CACjBoC,MADiB;AAEzBA,MAAAA,MAAM,CAACV,MAAP,CAAcU,MAAM,CAACT,OAAP,CAAeF,IAAf,CAAd,EAAoC,CAApC;;AACA,YAAK3B,QAAL,CAAc;AACZsC,QAAAA,MAAM,EAANA;AADY,OAAd;AAGD,KA5KiB;;AAAA,QAETE,QAFS,GAEG9C,KAFH,CAET8C,QAFS;AAGhB,UAAKtC,KAAL,GAAa;AACXI,MAAAA,EAAE,EAAEkC,QAAQ,GAAGA,QAAQ,CAACrB,GAAZ,GAAkB,EADnB;AAEXrB,MAAAA,IAAI,EAAE0C,QAAQ,GAAGA,QAAQ,CAAC1C,IAAZ,GAAmB,EAFtB;AAGXU,MAAAA,OAAO,EAAEgC,QAAQ,GAAGA,QAAQ,CAAChC,OAAZ,GAAsB,EAH5B;AAIXD,MAAAA,OAAO,EAAEiC,QAAQ,GAAGA,QAAQ,CAACjC,OAAZ,GAAqB,EAJ3B;AAKXE,MAAAA,cAAc,EAAE+B,QAAQ,GAAGA,QAAQ,CAAC/B,cAAZ,GAA6B,EAL1C;AAMX6B,MAAAA,MAAM,EAAEE,QAAQ,GAAGA,QAAQ,CAACF,MAAZ,GAAqB,EAN1B;AAOXrC,MAAAA,OAAO,EAAE,EAPE;AAQX;AACA+B,MAAAA,aAAa,EAAE,MATJ;AAUXC,MAAAA,SAAS,EAAE,aAVA;AAWXC,MAAAA,SAAS,EAAE,KAXA;AAYXK,MAAAA,WAAW,EAAE,CAAC,CAZH;AAaXJ,MAAAA,QAAQ,EAAE,EAbC;AAcXC,MAAAA,KAAK,EAAE;AAdI,KAAb;AAHgB;AAmBjB;;;;wCAEkB;AAAA,UACVK,sBADU,GACgB,KAAK/C,KADrB,CACV+C,sBADU;AAEjBA,MAAAA,sBAAsB;AACvB;;;mCAmFc;AAAA,yBAOT,KAAKvC,KAPI;AAAA,UAEXiC,QAFW,gBAEXA,QAFW;AAAA,UAGXC,KAHW,gBAGXA,KAHW;AAAA,UAIXF,SAJW,gBAIXA,SAJW;AAAA,UAKXK,WALW,gBAKXA,WALW;AAAA,UAMXD,MANW,gBAMXA,MANW;;AAQb,UAAG,CAACH,QAAJ,EAAa;AACXhD,QAAAA,UAAU,CAAC,+BAAD,CAAV;AACD,OAFD,MAGI;AACF,YAAI+C,SAAS,KAAK,KAAlB,EAAyB;AACvB;AACA,cAAII,MAAM,CAACrB,IAAP,CAAY,UAACC,GAAD;AAAA,mBAASA,GAAG,CAACC,GAAJ,CAAQA,GAAR,KAAgBgB,QAAzB;AAAA,WAAZ,CAAJ,EAAoD;AAClDhD,YAAAA,UAAU,CAAC,2BAAD,CAAV;AACD,WAFD,MAEO;AACLmD,YAAAA,MAAM,CAACb,IAAP,CAAY;AACVN,cAAAA,GAAG,EAAE;AAACA,gBAAAA,GAAG,EAAEgB;AAAN,eADK;AAEVC,cAAAA,KAAK,EAALA;AAFU,aAAZ;AAID;AACF,SAVD,MAUO;AACL;AACA,eAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGc,MAAM,CAACI,MAA3B,EAAmClB,CAAC,EAApC,EAAwC;AACtCc,YAAAA,MAAM,CAACC,WAAD,CAAN,GAAsB;AACpBpB,cAAAA,GAAG,EAAE;AAACA,gBAAAA,GAAG,EAAEgB;AAAN,eADe;AAEpBC,cAAAA,KAAK,EAALA;AAFoB,aAAtB;AAID;AACF;AACF;;AACD,WAAKpC,QAAL,CAAc;AACZsC,QAAAA,MAAM,EAANA,MADY;AAEZ;AACAN,QAAAA,aAAa,EAAE,MAHH;AAIZC,QAAAA,SAAS,EAAE,aAJC;AAKZ;AACAE,QAAAA,QAAQ,EAAE,EANE;AAOZC,QAAAA,KAAK,EAAE,EAPK;AAQZF,QAAAA,SAAS,EAAE;AARC,OAAd;AAUAb,MAAAA,OAAO,CAACC,GAAR,CAAYgB,MAAZ;AACD;;;6BAwBO;AAAA;;AAAA,yBACuG,KAAKpC,KAD5G;AAAA,UACCJ,IADD,gBACCA,IADD;AAAA,UACOS,OADP,gBACOA,OADP;AAAA,UACgBC,OADhB,gBACgBA,OADhB;AAAA,UACyBC,cADzB,gBACyBA,cADzB;AAAA,UACyC6B,MADzC,gBACyCA,MADzC;AAAA,UACiDrC,OADjD,gBACiDA,OADjD;AAAA,UAC0D+B,aAD1D,gBAC0DA,aAD1D;AAAA,UACyEC,SADzE,gBACyEA,SADzE;AAAA,UACoFE,QADpF,gBACoFA,QADpF;AAAA,UAC8FC,KAD9F,gBAC8FA,KAD9F;AAAA,yBAE6D,KAAK1C,KAFlE;AAAA,UAEEiD,KAFF,gBAEEA,KAFF;AAAA,UAESC,QAFT,gBAESA,OAFT;AAAA,UAEkBJ,QAFlB,gBAEkBA,QAFlB;AAAA,UAE4BzB,iBAF5B,gBAE4BA,iBAF5B;AAAA,UAE+C8B,UAF/C,gBAE+CA,UAF/C;AAGN,0BACD,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAEF,KAAd;AAAqB,QAAA,OAAO,EAAE;AAAA,iBAAMC,QAAO,CAAC,CAACD,KAAF,CAAb;AAAA,SAA9B;AAAqD,QAAA,IAAI,EAAC,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,YAAD;AAAc,QAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAcH,QAAQ,GAAG,wBAAH,GAA8B,mBAApD,CADJ,CADD,eAIC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADD,eAEU;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,IAAI,EAAC,MAAjD;AAAwD,QAAA,KAAK,EAAE1C,IAA/D;AAAqE,QAAA,QAAQ,EAAE,KAAKM,QAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFV,CADD,eAKC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAEU;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,IAAI,EAAC,SAAjD;AAA2D,QAAA,KAAK,EAAEG,OAAlE;AAA2E,QAAA,QAAQ,EAAE,KAAKH,QAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFV,CALD,eASS;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DADO,eAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,IAAI,EAAC,SAAjD;AAA2D,QAAA,KAAK,EAAEI,OAAlE;AAA2E,QAAA,QAAQ,EAAE,KAAKJ,QAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CATT,CADD,eAeQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAfR,eAgBQ;AAAK,QAAA,KAAK,EAAE;AAAC0C,UAAAA,QAAQ,EAAE;AAAX,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,IAAI,EAAC,SAArC;AAA+C,QAAA,KAAK,EAAE7C,OAAtD;AAA+D,QAAA,QAAQ,EAAE,KAAKN,YAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAiC,QAAA,KAAK,EAAE;AAAEmD,UAAAA,QAAQ,EAAE,UAAZ;AAAwBC,UAAAA,MAAM,EAAE;AAAhC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGF,UAAU,IAAI5C,OAAd,IAAyB4C,UAAU,CAACG,GAAX,CAAe,UAAClC,aAAD,EAAgBmC,KAAhB,EAAyB;AAChE,4BACE;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBnC,aAAa,CAAChB,IAAnC,CADF,CADF,eAIE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,OAAO,EAAI;AAAA,mBAAM,MAAI,CAACsB,kBAAL,CAAwBN,aAAxB,CAAN;AAAA,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA6F;AAAG,UAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA7F,CADF,CAJF,CADA,eASA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATA,CADF;AAaD,OAdyB,CAD5B,CAFF,CAhBR,EAqCSC,iBAAiB,iBAAI,oBAAC,UAAD;AACpB,QAAA,KAAK,EAAEN,cADa;AAEpB,QAAA,MAAM,EAAErB,MAFY;AAGpB,QAAA,OAAO,MAHa;AAIpB,QAAA,YAAY,EAAE,CAJM;AAKpB,QAAA,UAAU,MALU;AAMpB,QAAA,WAAW,EAAI;AACb,kBAAQ,cAACuC,IAAD;AAAA,gCACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAK,MAAI,CAACd,gBAAL,CAAsBc,IAAI,CAACR,GAA3B,CAAL,CADM;AAAA,WADK;AAIb,qBAAW,iBAACQ,IAAD;AAAA,gCACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE,oBAAC,OAAD;AACA,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAI,CAACD,qBAAL,CAA2BC,IAA3B,CAAN;AAAA,eADT;AAEA,cAAA,SAAS,EAAC,mBAFV;AAGA,cAAA,KAAK,EAAC,QAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADS;AAAA;AAJE,SANK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArC9B,CADD,eAgEO;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CADF,eAEE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,SAAS,EAAC,sBADZ;AAEE,QAAA,KAAK,EAAE;AAAEuB,UAAAA,OAAO,EAAElB;AAAX,SAFT;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACmB,YAAL,EAAN;AAAA,SAHX;AAIE,QAAA,IAAI,EAAC,QAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eASE;AACE,QAAA,SAAS,EAAC,iBADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACpB,WAAL,CAAiBC,aAAjB,CAAN;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKGC,SALH,CATF,CAFF,eAmBE;AAAK,QAAA,SAAS,EAAC,+BAAf;AAA+C,QAAA,KAAK,EAAE;AAAEiB,UAAAA,OAAO,EAAElB;AAAX,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,eAEE;AACA,QAAA,SAAS,EAAC,mBADV;AAEA,QAAA,QAAQ,EAAC,UAFT;AAGA,QAAA,IAAI,EAAC,UAHL;AAIA,QAAA,KAAK,EAAEG,QAJP;AAKA,QAAA,QAAQ,EAAE,KAAK/B,QALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOA;AAAQ,QAAA,KAAK,EAAE,CAAC,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAPA,EAQCK,cAAc,IAAIA,cAAc,CAACuC,GAAf,CAAmB,UAACrB,IAAD,EAAOsB,KAAP,EAAiB;AACrD,4BACE;AAAQ,UAAA,GAAG,EAAEA,KAAb;AAAoB,UAAA,KAAK,EAAEtB,IAAI,CAACR,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGQ,IAAI,CAAC7B,IADR,CADF;AAKD,OANkB,CARnB,CAFF,CADF,eAoBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,IAAI,EAAC,OAAjD;AAAyD,QAAA,KAAK,EAAEsC,KAAhE;AAAuE,QAAA,QAAQ,EAAE,KAAKhC,QAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CApBF,CADF,CAnBF,EA8CGW,iBAAiB,IAAIuB,MAAM,CAACI,MAAP,GAAgB,CAArC,iBAA0C,oBAAC,UAAD;AACzC,QAAA,KAAK,EAAEJ,MADkC;AAEzC,QAAA,MAAM,EAAE9C,OAFiC;AAGzC,QAAA,OAAO,MAHkC;AAIzC,QAAA,YAAY,EAAE,CAJ2B;AAKzC,QAAA,UAAU,MAL+B;AAMzC,QAAA,WAAW,EAAI;AACb,kBAAQ,cAACmC,IAAD;AAAA,gCACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAK,MAAI,CAACd,gBAAL,CAAsBc,IAAI,CAACR,GAAL,CAASA,GAA/B,CAAL,CADM;AAAA,WADK;AAIb,gBAAM,YAACQ,IAAD,EAAU,CAEf,CANY;AAOb,qBAAW,iBAACA,IAAD;AAAA,gCACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE,oBAAC,OAAD;AACA,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAI,CAACU,YAAL,CAAkBV,IAAlB,CAAN;AAAA,eADT;AAEA,cAAA,SAAS,EAAC,mBAFV;AAGA,cAAA,KAAK,EAAC,SAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKE;AAAG,cAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CADF,eAQE,oBAAC,OAAD;AACA,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAI,CAACG,cAAL,CAAoBH,IAApB,CAAN;AAAA,eADT;AAEA,cAAA,SAAS,EAAC,mBAFV;AAGA,cAAA,KAAK,EAAC,QAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKE;AAAG,cAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CARF,CADS;AAAA;AAPE,SAN0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9C7C,CAhEP,CADD,CAJD,eAyJC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAC,SAAf;AAAyB,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACtB,QAAL,CAAc,CAACsC,KAAf,CAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EAGY,GAHZ,eAIC,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAC,WAAf;AAA2B,QAAA,OAAO,EAAE;AAAA,iBAAMC,QAAO,CAAC,CAACD,KAAF,CAAb;AAAA,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJD,CAzJD,CADC;AAoKF;;;;EAtV2BpE,S;;AAyV7B,IAAM6E,eAAe,GAAG,SAAlBA,eAAkB,CAAClD,KAAD,EAAW;AACjC,SAAO;AACLa,IAAAA,iBAAiB,EAAEb,KAAK,CAACY,aAAN,CAAoBuC,IADlC;AAELR,IAAAA,UAAU,EAAE3C,KAAK,CAACY,aAAN,CAAoB+B;AAF3B,GAAP;AAID,CALD;;AAOA,IAAMS,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACL5C,IAAAA,QAAQ,EAAE,kBAAC6C,MAAD,EAAW;AACnBD,MAAAA,QAAQ,CAACtE,eAAe,CAAC0B,QAAhB,CAAyB;AAAC6C,QAAAA,MAAM,EAANA;AAAD,OAAzB,CAAD,CAAR;AACD,KAHI;AAIL9C,IAAAA,QAAQ,EAAE,kBAACJ,EAAD,EAAKkD,MAAL,EAAe;AACvBD,MAAAA,QAAQ,CAACtE,eAAe,CAACyB,QAAhB,CAAyB;AAACJ,QAAAA,EAAE,EAAFA,EAAD;AAAKkD,QAAAA,MAAM,EAANA;AAAL,OAAzB,CAAD,CAAR;AACD,KANI;AAOLf,IAAAA,sBAAsB,EAAG,gCAACe,MAAD,EAAY;AACnCD,MAAAA,QAAQ,CAACrE,oBAAoB,CAACuE,SAArB,CAA+BD,MAA/B,CAAD,CAAR;AACD,KATI;AAULrD,IAAAA,QAAQ,EAAG,kBAACF,OAAD,EAAY;AACrBsD,MAAAA,QAAQ,CAACrE,oBAAoB,CAACiB,QAArB,CAA8BF,OAA9B,CAAD,CAAR;AACD;AAZI,GAAP;AAcD,CAfD;;AAiBA,eAAejB,OAAO,CAACoE,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C7D,cAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {get} from 'lodash'\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle, CDataTable } from '@coreui/react';\nimport { connect } from \"react-redux\";\n// @Actions\nimport CategoryActions from \"../../redux/actions/categories\";\nimport SpecificationActions from \"../../redux/actions/specification\";\n// @Functions\nimport { toastError } from \"../../utils/toastHelper\";\n\nconst fields = ['name' ,{ key: 'actions', _style: { width: '10%'} }]\nconst _fields = ['name' , 'query',{ key: 'actions', _style: { width: '35%'}}]\n\nclass CategoryDetail extends Component {\n  constructor(props){\n    super(props);\n    const {category} = props;\n    this.state = {\n      id: category ? category._id : '',\n      name: category ? category.name : '',\n      name_en: category ? category.name_en : '',\n      pathseo: category ? category.pathseo :'',\n      specifications: category ? category.specifications : [],\n      filter: category ? category.filter : [],\n      keyword: \"\",\n      //Filter - bộ lọc\n      filterEditing: \"none\",\n      btnStatus: \"Thêm bộ lọc\",\n      onEditing: false,\n      indexFilter: -1,\n      idFilter: \"\",\n      query: \"\"\n    }\n  }\n\n  componentDidMount(){\n    const {onGetListSpecification} = this.props;\n    onGetListSpecification();\n  }\n\n  handleFilter = (event) => {\n\t\tvar target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n    const { keyword } = this.state;\n    const { onFilter } = this.props;\n    onFilter(keyword);\n\t}\n\n  onChange = (event) =>{\n    var target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n  }\n\n  onSubmit = () =>{\n    const {id, name, pathseo, name_en, specifications} = this.state;\n    const {onUpdate, onCreate} = this.props;\n    var data = {name, pathseo, name_en, specifications}\n    if (id) {\n      onUpdate(id, data);\n    }\n    else {\n      // 4. Create data\n      onCreate(data);\n    }\n  }\n\n  setSpecification = (specification) =>{\n    const {listSpecification} = this.props;\n    const specificationName = listSpecification.find(obj => obj._id === specification);\n    return get(specificationName, \"name\");\n  }\n\n  onAddSpecification = (specification) =>{\n    const {specifications} = this.state;\n    console.log(specifications)\n    if(specifications.findIndex(i => i.name === specification.name)!== -1){\n      toastError(\"Thuộc tính này đã tồn tại trong danh sách\")\n    }\n    else{\n      specifications.push(specification)\n    }\n    this.setState({specifications})\n  }\n\n  onDeleteSpecification = (item) =>{\n    const {specifications} = this.state;\n    specifications.splice(specifications.indexOf(item), 1);\n    this.setState({specifications})\n  }\n  onDeleteFilter = (item) => {\n\n  }\n\n  onAddFilter = (value) => {\n    if (value === \"none\") {\n      this.setState({\n        filterEditing: \"inline-flex\",\n        btnStatus: \"Hủy\",\n        onEditing: false,\n      });\n    } else {  //Click button Hủy\n      this.setState({\n        // Gán giá trị button\n        filterEditing: \"none\",\n        btnStatus: \"Thêm bộ lọc\",\n        onEditing: false,\n        // Gán giá trị fields\n        idFilter: \"\",\n        query: \"\"\n      });\n    }\n  };\n\n  onSaveFilter() {\n    const {\n      idFilter,\n      query,\n      onEditing,\n      indexFilter,\n      filter,\n    } = this.state;\n    if(!idFilter){\n      toastError(\"Chọn thuộc tính trước khi lưu\");\n    }\n    else{\n      if (onEditing === false) {\n        // TH thêm màu\n        if (filter.find((obj) => obj._id._id === idFilter)) {\n          toastError(\"Thuộc tính này đã tồn tại\");\n        } else {\n          filter.push({\n            _id: {_id: idFilter},\n            query\n          });\n        }\n      } else {\n        // TH sửa màu\n        for (let i = 0; i < filter.length; i++) {\n          filter[indexFilter] = {\n            _id: {_id: idFilter},\n            query\n          };\n        }\n      }\n    }\n    this.setState({\n      filter,\n      // Gán giá trị button\n      filterEditing: \"none\",\n      btnStatus: \"Thêm bộ lọc\",\n      // Gán giá trị fields\n      idFilter: \"\",\n      query: \"\",\n      onEditing: false,\n    });\n    console.log(filter)\n  }\n\n  onEditFilter = (item) => {\n    const { filter } = this.state;\n    this.setState({\n      // Gán giá trị button\n      filterEditing: \"inline-flex\",\n      btnStatus: \"Hủy\",\n      // Gán giá trị fields\n      idFilter: item._id._id,\n      query: item.query,\n      onEditing: true,\n      indexFilter: filter.indexOf(item),\n    });\n  };\n\n  onDeleteFilter = (item) => {\n    const { filter } = this.state;\n    filter.splice(filter.indexOf(item), 1);\n    this.setState({\n      filter,\n    });\n  };\n\n\trender() {\n    const {name, pathseo, name_en, specifications, filter, keyword, filterEditing, btnStatus, idFilter, query} = this.state;\n    const { large, onClose, category, listSpecification, listSearch} = this.props;\n    return (\n\t\t\t<CModal show={large} onClose={() => onClose(!large)} size=\"lg\">\n\t\t\t\t<CModalHeader closeButton>\n        <CModalTitle>{category ? \"Sửa thông tin sản phẩm\" : \"Thêm sản phẩm mới\"}</CModalTitle>\n\t\t\t\t</CModalHeader>\n\t\t\t\t<CModalBody>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 col-lg-6\">\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label>Tên loại sản phẩm:</label>\n                  <input type=\"text\" className=\"form-control\" name=\"name\" value={name} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label>Slug:</label>\n                  <input type=\"text\" className=\"form-control\" name=\"pathseo\" value={pathseo} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n                <div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label>Tên loại sản phẩm (English):</label>\n                  <input type=\"text\" className=\"form-control\" name=\"name_en\" value={name_en} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n              </form>\n              <label>Danh mục thuộc tính:</label>\n              <div style={{position: \"relative\"}}>\n                <input className=\"form-control\" name=\"keyword\" value={keyword} onChange={this.handleFilter}></input>\n                <div className=\"card mb-0 w-100\" style={{ position: \"absolute\", zIndex: 1}}>\n                  {listSearch && keyword && listSearch.map((specification, index) =>{\n                    return (\n                      <div key={index}>\n                      <div className=\"row p-2\" >\n                        <div className=\"col-9 align-self-center\">\n                          <p className=\"mb-0\">{specification.name}</p>\n                        </div>\n                        <div className=\"col-3 text-right my-auto\">\n                          <button className=\"btn btn-success\" onClick ={ () => this.onAddSpecification(specification)}><i className=\"fa fa-plus-circle\"></i></button>\n                        </div>\n                      </div>\n                      <div className=\"border-bottom\"></div>\n                      </div>\n                    )\n                  })}\n                </div>\n              </div>\n\n              {listSpecification && <CDataTable\n                items={specifications}\n                fields={fields}\n                striped\n                itemsPerPage={5}\n                pagination\n                scopedSlots = {{\n                  'name': (item) => (\n                    <td>{this.setSpecification(item._id)}</td>\n                  ),\n                  'actions': (item) => (\n                    <td>\n                      <CButton\n                      onClick={() => this.onDeleteSpecification(item)}\n                      className=\"mr-1 mb-1 mb-xl-0\"\n                      color=\"danger\"\n                      >\n                        Xoá\n                      </CButton>\n                    </td>\n\n                  )\n                }}\n              />}\n\n            </div>\n            <div className=\"col-12 col-lg-6\">\n              <label className=\"float-left\">Danh mục bộ lọc:</label>\n              <div className=\"float-right\">\n                <button\n                  className=\"btn btn-success mr-2\"\n                  style={{ display: filterEditing }}\n                  onClick={() => this.onSaveFilter()}\n                  type=\"button\"\n                >\n                  Lưu\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  type=\"button\"\n                  onClick={() => this.onAddFilter(filterEditing)}\n                >\n                  {btnStatus}\n                </button>\n              </div>\n              <div className=\"row w-100 rounded border my-2\" style={{ display: filterEditing }}>\n                <div className=\"col-12\">\n                  <div className=\"form-group\">\n                    <label>Tên thuộc tính:</label>\n                    <select\n                    className=\"form-control my-1\"\n                    required=\"required\"\n                    name=\"idFilter\"\n                    value={idFilter}\n                    onChange={this.onChange}\n                  >\n                    <option value={-1}>Chọn thuộc tính</option>\n                    {specifications && specifications.map((item, index) => {\n                      return (\n                        <option key={index} value={item._id}>\n                          {item.name}\n                        </option>\n                      );\n                    })}\n                  </select>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>Query string:</label>\n                    <input type=\"text\" className=\"form-control\" name=\"query\" value={query} onChange={this.onChange}/>\n                  </div>\n                </div>\n              </div>\n              {listSpecification && filter.length > 0 && <CDataTable\n                items={filter}\n                fields={_fields}\n                striped\n                itemsPerPage={5}\n                pagination\n                scopedSlots = {{\n                  'name': (item) => (\n                    <td>{this.setSpecification(item._id._id)}</td>\n                  ),\n                  'os': (item) => {\n\n                  },\n                  'actions': (item) => (\n                    <td>\n                      <CButton\n                      onClick={() => this.onEditFilter(item)}\n                      className=\"mr-1 mb-1 mb-xl-0\"\n                      color=\"warning\"\n                      >\n                        <i className=\"fa fa-highlighter\"></i>\n                      </CButton>\n                      <CButton\n                      onClick={() => this.onDeleteFilter(item)}\n                      className=\"mr-1 mb-1 mb-xl-0\"\n                      color=\"danger\"\n                      >\n                        <i className=\"fa fa-trash-alt\"></i>\n                      </CButton>\n                    </td>\n\n                  )\n                }}\n              />}\n            </div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</CModalBody>\n\t\t\t\t<CModalFooter>\n\t\t\t\t\t<CButton color=\"primary\" onClick={() => this.onSubmit(!large)}>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</CButton>{' '}\n\t\t\t\t\t<CButton color=\"secondary\" onClick={() => onClose(!large)}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</CButton>\n\t\t\t\t</CModalFooter>\n\t\t\t</CModal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    listSpecification: state.specification.list,\n    listSearch: state.specification.listSearch,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onCreate: (params) =>{\n      dispatch(CategoryActions.onCreate({params}))\n    },\n    onUpdate: (id, params) =>{\n      dispatch(CategoryActions.onUpdate({id, params}))\n    },\n    onGetListSpecification : (params) => {\n      dispatch(SpecificationActions.onGetList(params))\n    },\n    onFilter : (keyword) =>{\n      dispatch(SpecificationActions.onFilter(keyword))\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryDetail);\n"]},"metadata":{},"sourceType":"module"}