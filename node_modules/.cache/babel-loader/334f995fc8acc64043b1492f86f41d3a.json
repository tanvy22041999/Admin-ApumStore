{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _createForOfIteratorHelper from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\ngota\\\\OneDrive\\\\Documents\\\\GitHub\\\\WebBanDienThoai\\\\CMD_WebBanDienThoai\\\\src\\\\components\\\\Products\\\\ProductDetail.js\";\nimport React, { Component } from \"react\";\nimport \"./product.css\";\nimport { connect } from \"react-redux\"; // @Functions\n\nimport changeToSlug from \"../../utils/ChangeToSlug\"; // @ComponentS\n\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle } from \"@coreui/react\"; // @Actions\n\nimport ProductsActions from \"../../redux/actions/products\";\nimport OperationActions from \"../../redux/actions/operations\";\nimport ColorActions from \"../../redux/actions/color\";\nimport CategoryActions from \"../../redux/actions/categories\";\n\nvar ProductDetail = /*#__PURE__*/function (_Component) {\n  _inherits(ProductDetail, _Component);\n\n  var _super = _createSuper(ProductDetail);\n\n  function ProductDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ProductDetail);\n\n    _this = _super.call(this, props);\n\n    _this.listSpecification = function (product, listCategories) {\n      var result = [];\n      listCategories[0].specifications.map(function (i) {\n        result.push({\n          _id: i,\n          value: \"\"\n        });\n      });\n\n      if (product && product.specifications.length != 0) {\n        var _iterator = _createForOfIteratorHelper(product.specifications),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n\n            if (listCategories[0].specifications.indexOf(item._id) != -1) {\n              //kiểm tra tiếp xem có value chưa\n              if (item.value) {\n                result.push({\n                  _id: item._id,\n                  value: item.value\n                });\n              } else {\n                result.push({\n                  _id: item._id,\n                  value: \"\"\n                });\n              }\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return result;\n      } else {\n        return result;\n      }\n    };\n\n    _this.onChange = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.deletePhoto = function (id) {\n      var image = _this.state.image; // Vị trí trong mảng có image cần xóa\n\n      var deleteIndex = image.indexOf(image.find(function (img) {\n        return img._id === id;\n      })); // Tạo mảng mới không có phần tử muốn xóa\n\n      image.splice(deleteIndex, 1);\n\n      _this.setState({\n        image: image\n      });\n    };\n\n    _this.deletePreview = function (item) {\n      var previewList = _this.state.previewList; // Vị trí trong mảng có image cần xóa\n\n      var deleteIndex = previewList.indexOf(previewList.find(function (img) {\n        return img === item;\n      })); // Tạo mảng mới không có phần tử muốn xóa\n\n      previewList.splice(deleteIndex, 1);\n\n      _this.setState({\n        previewList: previewList\n      });\n    };\n\n    _this.handleFileInputChange = function (e) {\n      var file = e.target.files[0]; // 1. Hiển thị ảnh vừa thêm\n\n      _this.previewFile(file);\n\n      _this.setState({\n        selectedFile: file,\n        fileInputState: e.target.value\n      });\n    };\n\n    _this.handleListInputChange = function (e) {\n      var file = e.target.files[0];\n      var _this$state = _this.state,\n          selectedList = _this$state.selectedList,\n          fileInputList = _this$state.fileInputList; // 1. Hiển thị ảnh vừa thêm\n\n      _this.previewList(file);\n\n      selectedList.push(file);\n      fileInputList.push(e.target.value);\n\n      _this.setState({\n        selectedList: selectedList,\n        fileInputList: fileInputList\n      });\n    };\n\n    _this.previewFile = function (file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        _this.setState({\n          previewSource: reader.result\n        });\n      };\n    };\n\n    _this.previewList = function (file) {\n      var reader = new FileReader();\n      var previewList = _this.state.previewList;\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        previewList.push(reader.result);\n\n        _this.setState({\n          previewList: previewList\n        });\n      };\n    };\n\n    _this.onSelect = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var id = target.value;\n      var onGetDetailCategories = _this.props.onGetDetailCategories;\n\n      _this.setState(_defineProperty({}, name, id));\n\n      onGetDetailCategories(id);\n    };\n\n    _this.onChangeDetail = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var _value = target.value;\n      var value = _this.state.value;\n\n      if (value.findIndex(function (obj) {\n        return obj.specification === name;\n      }) == -1) {\n        _this.setState(function (prevState) {\n          return {\n            value: [].concat(_toConsumableArray(prevState.value), [{\n              specification: name,\n              value: _value\n            }])\n          };\n        });\n      } else {\n        _this.setState(function (prevState) {\n          return {\n            value: prevState.value.map(function (obj) {\n              return obj.specification === name ? Object.assign(obj, {\n                value: _value\n              }) : obj;\n            })\n          };\n        });\n      }\n    };\n\n    _this.onSubmitImage = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$state2, selectedFile, selectedList, id, formData1, formData2, i, reader;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state2 = _this.state, selectedFile = _this$state2.selectedFile, selectedList = _this$state2.selectedList, id = _this$state2.id; // @Condition cloudinary là FormData()\n              // @Xử lý ảnh trước khi lưu\n              // Nếu có import thumbnail mới thì\n\n              if (!(selectedFile && selectedList.length !== 0)) {\n                _context.next = 11;\n                break;\n              }\n\n              formData1 = new FormData();\n              formData1.append(\"image\", selectedFile);\n              _context.next = 6;\n              return _this.setState({\n                bigimage: formData1\n              });\n\n            case 6:\n              formData2 = new FormData();\n\n              for (i = 0; i < selectedList.length; i++) {\n                formData2.append(\"image\", selectedList[i]);\n              }\n\n              _this.onCallback(id, formData2);\n\n              _context.next = 12;\n              break;\n\n            case 11:\n              if (selectedFile) {\n                // 1. Lưu cloudinary\n                // eslint-disable-next-line\n                reader = new FileReader();\n                reader.readAsDataURL(selectedFile); // 2. Lưu state dạng FormData\n\n                reader.onloadend = function () {\n                  // eslint-disable-next-line\n                  var formData1 = new FormData();\n                  formData1.append(\"image\", selectedFile);\n\n                  _this.setState({\n                    bigimage: formData1\n                  });\n\n                  _this.onCallback(id);\n                };\n\n                reader.onerror = function () {\n                  console.error(\"Lỗi không thêm mới được Thumbnail product\");\n                };\n              } else if (selectedList.length !== 0) {\n                // 1. Lưu cloudinary\n                // eslint-disable-next-line\n                formData2 = new FormData();\n\n                for (i = 0; i < selectedList.length; i++) {\n                  formData2.append(\"image\", selectedList[i]);\n                }\n\n                _this.onCallback(id, formData2);\n              } else {\n                _this.onCallback(id, null);\n              }\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.onCallback = function (id, formData) {\n      var _this$props = _this.props,\n          onCreate = _this$props.onCreate,\n          onUpdateImage = _this$props.onUpdateImage,\n          product = _this$props.product;\n      var _this$state3 = _this.state,\n          name = _this$state3.name,\n          price = _this$state3.price,\n          amount = _this$state3.amount,\n          warrently = _this$state3.warrently,\n          category = _this$state3.category,\n          brand = _this$state3.brand,\n          bigimage = _this$state3.bigimage,\n          image = _this$state3.image,\n          pathseo = _this$state3.pathseo,\n          value = _this$state3.value,\n          specifications = _this$state3.specifications;\n\n      if (id) {\n        // eslint-disable-next-line\n        var data = {\n          name: name,\n          price: price,\n          amount: amount,\n          warrently: warrently,\n          category: category,\n          brand: brand,\n          bigimage: bigimage,\n          image: image,\n          pathseo: pathseo,\n          specifications: value\n        };\n        onUpdateImage(id, data, formData);\n      } else {\n        // 4. Create data\n        // eslint-disable-next-line\n        var data = {\n          name: name,\n          price: price,\n          amount: amount,\n          warrently: warrently,\n          category: category,\n          brand: brand,\n          bigimage: bigimage,\n          pathseo: pathseo,\n          image: image,\n          specifications: value\n        };\n        onCreate(data, formData);\n      }\n    };\n\n    _this.setSpecification = function (_id) {\n      var listSpecification = _this.props.listSpecification;\n      var specificationName = listSpecification.find(function (obj) {\n        return obj._id === _id;\n      });\n      return specificationName.name;\n    };\n\n    var _product = props.product,\n        _listCategories = props.listCategories,\n        listBrands = props.listBrands,\n        listColor = props.listColor;\n    console.log(_this.listSpecification(_product, _listCategories));\n    _this.state = {\n      // @Product Info\n      id: _product ? _product._id : \"\",\n      name: _product ? _product.name : \"\",\n      price: _product ? _product.price : \"\",\n      pathseo: _product ? _product.pathseo : \"\",\n      amount: _product ? _product.amount : \"\",\n      warrently: _product ? _product.warrently : \"\",\n      category: _product ? _product.category : _listCategories[0]._id,\n      brand: _product ? _product.brand : listBrands[0]._id,\n      bigimage: _product ? _product.bigimage : \"\",\n      image: _product ? _product.image : [],\n      specifications: _this.listSpecification(_product, _listCategories)\n      /* product.specifications.length!=0 ? product.specifications : listCategories[0].specifications*/\n      ,\n      // @Product Image\n      previewSource: \"\",\n      selectedFile: \"\",\n      fileInputState: \"\",\n      // @Product list images\n      previewList: [],\n      selectedList: [],\n      fileInputList: [],\n      value: []\n    };\n    return _this;\n  }\n\n  _createClass(ProductDetail, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$props2 = this.props,\n          onGetListOperation = _this$props2.onGetListOperation,\n          onGetListColor = _this$props2.onGetListColor;\n      onGetListOperation();\n      onGetListColor();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(props) {\n      if (this.props.categoryDetail !== props.categoryDetail && this.props.categoryDetail) {\n        if (this.props.categoryDetail._id == this.props.product.category) {\n          this.setState({\n            specifications: this.props.product.specifications\n          });\n        } else {\n          this.setState({\n            specifications: this.props.categoryDetail.specifications\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state4 = this.state,\n          name = _this$state4.name,\n          price = _this$state4.price,\n          amount = _this$state4.amount,\n          pathseo = _this$state4.pathseo,\n          warrently = _this$state4.warrently,\n          category = _this$state4.category,\n          brand = _this$state4.brand,\n          bigimage = _this$state4.bigimage,\n          image = _this$state4.image,\n          mobileDes = _this$state4.mobileDes,\n          previewSource = _this$state4.previewSource,\n          fileInputState = _this$state4.fileInputState,\n          previewList = _this$state4.previewList,\n          specifications = _this$state4.specifications;\n      var _this$props3 = this.props,\n          large = _this$props3.large,\n          _onClose = _this$props3.onClose,\n          listCategories = _this$props3.listCategories,\n          listBrands = _this$props3.listBrands,\n          categoryDetail = _this$props3.categoryDetail,\n          product = _this$props3.product;\n      return /*#__PURE__*/React.createElement(CModal, {\n        show: large,\n        onClose: function onClose() {\n          return _onClose(!large);\n        },\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CModalHeader, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CModalTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }\n      }, product ? \"Sửa thông tin sản phẩm\" : \"Thêm sản phẩm mới\")), /*#__PURE__*/React.createElement(CModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 19\n        }\n      }, \"T\\xEAn s\\u1EA3n ph\\u1EA9m:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name\",\n        value: name,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 19\n        }\n      }, \"Gi\\xE1 b\\xE1n l\\u1EBB (VND):\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"price\",\n        value: price,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 19\n        }\n      }, \"Slug:\"), name ? /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"pathseo\",\n        value: pathseo ? pathseo : changeToSlug(name),\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 21\n        }\n      }) : /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"pathseo\",\n        value: pathseo,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 19\n        }\n      }, \"S\\u1ED1 l\\u01B0\\u1EE3ng (chi\\u1EBFc):\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"amount\",\n        value: amount,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 19\n        }\n      }, \"Th\\u1EDDi h\\u1EA1n b\\u1EA3o h\\xE0nh:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"warrently\",\n        value: warrently,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 19\n        }\n      }, \"Lo\\u1EA1i s\\u1EA3n ph\\u1EA9m:\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        required: \"required\",\n        name: \"category\",\n        value: category,\n        onChange: this.onSelect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 19\n        }\n      }, listCategories.map(function (category, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: category._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 25\n          }\n        }, category.name);\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 19\n        }\n      }, \"T\\xEAn th\\u01B0\\u01A1ng hi\\u1EC7u:\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        required: \"required\",\n        name: \"brand\",\n        value: brand,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 19\n        }\n      }, listBrands.map(function (brand, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: brand._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 25\n          }\n        }, brand.name);\n      }))), bigimage ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group img-thumbnail3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 19\n        }\n      }, previewSource ? /*#__PURE__*/React.createElement(\"img\", {\n        src: previewSource,\n        className: \"w-100\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: bigimage.public_url,\n        style: {\n          border: \"1px solid\",\n          width: \"100%\"\n        },\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"file btn btn-lg btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 21\n        }\n      }, \"Change Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        id: \"fileInput\",\n        value: fileInputState,\n        onChange: this.handleFileInputChange,\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 23\n        }\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group img-thumbnail3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 19\n        }\n      }, previewSource ? /*#__PURE__*/React.createElement(\"img\", {\n        src: previewSource,\n        className: \"w-100\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n        alt: \"\",\n        style: {\n          border: \"1px solid\",\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"file btn btn-lg btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 21\n        }\n      }, \"Change Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        id: \"fileInput\",\n        value: fileInputState,\n        onChange: this.handleFileInputChange,\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 19\n        }\n      }, image && image.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \" img-thumbnail2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: item.public_url,\n          className: \"w-100\",\n          style: {\n            border: \"1px solid\"\n          },\n          alt: \"\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 31\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"btn btn-lg btn-primary img-des\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 31\n          }\n        }, \"Delete Photo\", /*#__PURE__*/React.createElement(\"input\", {\n          type: \"button\",\n          name: \"image\",\n          className: \"w-100 h-100\",\n          onClick: function onClick() {\n            return _this2.deletePhoto(item._id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 33\n          }\n        }))));\n      }), previewList[0] && /*#__PURE__*/React.createElement(React.Fragment, null, previewList.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"img-thumbnail2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: item,\n          alt: \"\",\n          className: \"w-100\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"btn btn-lg btn-primary img-des\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 33\n          }\n        }, \"Delete Photo\", /*#__PURE__*/React.createElement(\"input\", {\n          type: \"button\",\n          name: \"image\",\n          className: \"w-100 h-100\",\n          onClick: function onClick() {\n            return _this2.deletePreview(item);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 35\n          }\n        }))));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \" img-thumbnail2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\n        alt: \"\",\n        className: \"w-100\",\n        style: {\n          border: \"1px solid\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn btn-lg btn-primary img-des\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 25\n        }\n      }, \"Add Photo\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.handleListInputChange,\n        className: \"w-100 h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 27\n        }\n      })))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card text-white mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header bg-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 17\n        }\n      }, \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body text-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 17\n        }\n      }, specifications[0].value ? specifications.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          key: index + 1,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 23\n          }\n        }, item.name), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          key: index,\n          name: item._id,\n          defaultValue: item.value,\n          onChange: _this2.onChangeDetail,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 23\n          }\n        }));\n      }) : specifications.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 23\n          }\n        }, _this2.setSpecification(item._id)), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: item,\n          onChange: _this2.onChangeDetail,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 23\n          }\n        }));\n      })))))), /*#__PURE__*/React.createElement(CModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CButton, {\n        color: \"success\",\n        onClick: function onClick() {\n          return _this2.onSubmitImage(!large);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }\n      }, \"L\\u01B0u \\u1EA3nh\"), \" \", /*#__PURE__*/React.createElement(CButton, {\n        color: \"secondary\",\n        onClick: function onClick() {\n          return _onClose(!large);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return ProductDetail;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    productDetail: state.products.detail,\n    listBrands: state.brands.list,\n    listCategories: state.categories.list,\n    listOperations: state.operations.list,\n    listColor: state.color.list,\n    categoryDetail: state.categories.detail\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onCreate: function onCreate(params, formData) {\n      dispatch(ProductsActions.onCreate({\n        params: params,\n        formData: formData\n      }));\n    },\n    onUpdateImage: function onUpdateImage(id, params, formData) {\n      dispatch(ProductsActions.onUpdateImage({\n        id: id,\n        params: params,\n        formData: formData\n      }));\n    },\n    onGetListColor: function onGetListColor() {\n      dispatch(ColorActions.onGetList());\n    },\n    onGetListOperation: function onGetListOperation() {\n      dispatch(OperationActions.onGetList());\n    },\n    onGetDetailCategories: function onGetDetailCategories(id) {\n      dispatch(CategoryActions.onGetDetail(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);","map":{"version":3,"sources":["C:/Users/ngota/OneDrive/Documents/GitHub/WebBanDienThoai/CMD_WebBanDienThoai/src/components/Products/ProductDetail.js"],"names":["React","Component","connect","changeToSlug","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","ProductsActions","OperationActions","ColorActions","CategoryActions","ProductDetail","props","listSpecification","product","listCategories","result","specifications","map","i","push","_id","value","length","item","indexOf","onChange","event","target","name","setState","deletePhoto","id","image","state","deleteIndex","find","img","splice","deletePreview","previewList","handleFileInputChange","e","file","files","previewFile","selectedFile","fileInputState","handleListInputChange","selectedList","fileInputList","reader","FileReader","readAsDataURL","onloadend","previewSource","onSelect","onGetDetailCategories","onChangeDetail","_value","findIndex","obj","specification","prevState","Object","assign","onSubmitImage","formData1","FormData","append","bigimage","formData2","onCallback","onerror","console","error","formData","onCreate","onUpdateImage","price","amount","warrently","category","brand","pathseo","data","setSpecification","specificationName","listBrands","listColor","log","onGetListOperation","onGetListColor","categoryDetail","mobileDes","large","onClose","index","public_url","border","width","mapStateToProps","productDetail","products","detail","brands","list","categories","listOperations","operations","color","mapDispatchToProps","dispatch","params","onGetList","onGetDetail"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./product.css\";\nimport { connect } from \"react-redux\";\n// @Functions\nimport changeToSlug from \"../../utils/ChangeToSlug\";\n// @ComponentS\nimport {\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n} from \"@coreui/react\";\n// @Actions\nimport ProductsActions from \"../../redux/actions/products\";\nimport OperationActions from \"../../redux/actions/operations\";\nimport ColorActions from \"../../redux/actions/color\";\nimport CategoryActions from \"../../redux/actions/categories\";\n\nclass ProductDetail extends Component {\n  constructor(props) {\n    super(props);\n    const { product, listCategories, listBrands, listColor } = props;\n    console.log(this.listSpecification(product,listCategories))\n    this.state = {\n      // @Product Info\n      id: product ? product._id : \"\",\n      name: product ? product.name : \"\",\n      price: product ? product.price : \"\",\n      pathseo: product ? product.pathseo : \"\",\n      amount: product ? product.amount : \"\",\n      warrently: product ? product.warrently : \"\",\n      category: product ? product.category : listCategories[0]._id,\n      brand: product ? product.brand : listBrands[0]._id,\n      bigimage: product ? product.bigimage : \"\",\n      image: product ? product.image : [],\n      specifications: this.listSpecification(product,listCategories)/* product.specifications.length!=0 ? product.specifications : listCategories[0].specifications*/ ,\n\n      // @Product Image\n      previewSource: \"\",\n      selectedFile: \"\",\n      fileInputState: \"\",\n      // @Product list images\n      previewList: [],\n      selectedList: [],\n      fileInputList: [],\n      value : []\n    };\n  }\n  listSpecification = (product, listCategories)=>{\n    var result = [];\n    listCategories[0].specifications.map(i => {\n      result.push({\n        _id: i,\n        value: \"\"\n      })\n    });\n    if(product && product.specifications.length!=0){\n      for(let item of product.specifications){\n        if(listCategories[0].specifications.indexOf(item._id)!=-1){ //kiểm tra tiếp xem có value chưa\n          if(item.value){\n            result.push({\n              _id:item._id,\n              value: item.value\n            })\n          }\n          else{\n            result.push({\n              _id:item._id,\n              value: \"\"\n            })\n          }\n        }\n      }\n      return result;\n    }\n    else{\n      return result;\n    }\n  }\n\n  componentWillMount() {\n    const { onGetListOperation, onGetListColor } = this.props;\n    onGetListOperation();\n    onGetListColor();\n\n  }\n  onChange = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  deletePhoto = (id) => {\n    const { image } = this.state;\n    // Vị trí trong mảng có image cần xóa\n    var deleteIndex = image.indexOf(image.find((img) => img._id === id));\n    // Tạo mảng mới không có phần tử muốn xóa\n    image.splice(deleteIndex, 1);\n    this.setState({\n      image,\n    });\n  };\n\n  deletePreview = (item) => {\n    const { previewList } = this.state;\n    // Vị trí trong mảng có image cần xóa\n    var deleteIndex = previewList.indexOf(\n      previewList.find((img) => img === item)\n    );\n    // Tạo mảng mới không có phần tử muốn xóa\n    previewList.splice(deleteIndex, 1);\n    this.setState({\n      previewList,\n    });\n  };\n\n  handleFileInputChange = (e) => {\n    const file = e.target.files[0];\n    // 1. Hiển thị ảnh vừa thêm\n    this.previewFile(file);\n    this.setState({\n      selectedFile: file,\n      fileInputState: e.target.value,\n    });\n  };\n\n  handleListInputChange = (e) => {\n    const file = e.target.files[0];\n    const { selectedList, fileInputList } = this.state;\n    // 1. Hiển thị ảnh vừa thêm\n    this.previewList(file);\n    selectedList.push(file);\n    fileInputList.push(e.target.value);\n    this.setState({\n      selectedList,\n      fileInputList,\n    });\n  };\n\n  // Hàm xử lý file - set hiển thị ảnh mới thêm vào state previewSource\n  previewFile = (file) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      this.setState({\n        previewSource: reader.result,\n      });\n    };\n  };\n\n  // Hàm xử lý file - set hiển thị ảnh mới thêm vào state previewSource\n  previewList = (file) => {\n    const reader = new FileReader();\n    const { previewList } = this.state;\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      previewList.push(reader.result);\n      this.setState({\n        previewList,\n      });\n    };\n  };\n\n  onSelect = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var id = target.value;\n    const { onGetDetailCategories } = this.props;\n    this.setState({\n      [name]: id,\n    });\n    onGetDetailCategories(id);\n  };\n\n  onChangeDetail = (event) =>{\n    var target = event.target;\n    var name = target.name;\n    var _value = target.value;\n    const {value} = this.state;\n    if(value.findIndex(obj => obj.specification === name) == -1){\n      this.setState((prevState) => ({\n        value: [...prevState.value,\n        {\n          specification:name,\n          value:_value\n        }]\n      }))\n    }\n    else{\n      this.setState((prevState) => ({\n        value: prevState.value.map(\n          obj => (obj.specification === name ? Object.assign(obj, { value: _value }) : obj)\n        )\n      }))\n    }\n  }\n\n  componentDidUpdate(props) {\n    if (this.props.categoryDetail !== props.categoryDetail && this.props.categoryDetail) {\n      if(this.props.categoryDetail._id == this.props.product.category){\n        this.setState({\n          specifications: this.props.product.specifications,\n        });\n      }\n      else{\n        this.setState({\n          specifications: this.props.categoryDetail.specifications,\n        });\n      }\n    }\n  }\n\n  onSubmitImage = async () => {\n    const { selectedFile, selectedList, id } = this.state;\n    // @Condition cloudinary là FormData()\n    // @Xử lý ảnh trước khi lưu\n    // Nếu có import thumbnail mới thì\n    if (selectedFile && selectedList.length !== 0) {\n      var formData1 = new FormData();\n      formData1.append(\"image\", selectedFile);\n      await this.setState({\n        bigimage: formData1,\n      });\n      var formData2 = new FormData();\n      for (var i = 0; i < selectedList.length; i++) {\n        formData2.append(\"image\", selectedList[i]);\n      }\n      this.onCallback(id, formData2);\n    } else if (selectedFile) {\n      // 1. Lưu cloudinary\n      // eslint-disable-next-line\n      var reader = new FileReader();\n      reader.readAsDataURL(selectedFile);\n      // 2. Lưu state dạng FormData\n      reader.onloadend = () => {\n        // eslint-disable-next-line\n        var formData1 = new FormData();\n        formData1.append(\"image\", selectedFile);\n        this.setState({\n          bigimage: formData1,\n        });\n        this.onCallback(id);\n      };\n      reader.onerror = () => {\n        console.error(\"Lỗi không thêm mới được Thumbnail product\");\n      };\n    } else if (selectedList.length !== 0) {\n      // 1. Lưu cloudinary\n      // eslint-disable-next-line\n      var formData2 = new FormData();\n      for (var i = 0; i < selectedList.length; i++) {\n        formData2.append(\"image\", selectedList[i]);\n      }\n      this.onCallback(id, formData2);\n    } else {\n      this.onCallback(id, null);\n    }\n    // @Xử lý các thông tin khác\n    // 3. Update data\n  };\n\n  onCallback = (id, formData) => {\n    const { onCreate, onUpdateImage, product } = this.props;\n    const {\n      name,\n      price,\n      amount,\n      warrently,\n      category,\n      brand,\n      bigimage,\n      image,\n      pathseo,\n      value,\n      specifications\n    } = this.state;\n    if (id) {\n      // eslint-disable-next-line\n      var data = {\n        name,\n        price,\n        amount,\n        warrently,\n        category,\n        brand,\n        bigimage,\n        image,\n        pathseo,\n        specifications: value,\n      };\n      onUpdateImage(id, data, formData);\n    } else {\n      // 4. Create data\n      // eslint-disable-next-line\n      var data = {\n        name,\n        price,\n        amount,\n        warrently,\n        category,\n        brand,\n        bigimage,\n        pathseo,\n        image,\n        specifications:value,\n      };\n      onCreate(data, formData);\n    }\n  };\n\n  setSpecification = (_id) =>{\n    const {listSpecification} = this.props;\n    const specificationName = listSpecification.find(obj => obj._id === _id);\n    return specificationName.name;\n  }\n\n  render() {\n    const {\n      name,\n      price,\n      amount,\n      pathseo,\n      warrently,\n      category,\n      brand,\n      bigimage,\n      image,\n      mobileDes,\n      previewSource,\n      fileInputState,\n      previewList,\n      specifications,\n    } = this.state;\n    const {\n      large,\n      onClose,\n      listCategories,\n      listBrands,\n      categoryDetail,\n      product,\n    } = this.props;\n    return (\n      <CModal show={large} onClose={() => onClose(!large)} size=\"lg\">\n        <CModalHeader closeButton>\n          <CModalTitle>\n            {product ? \"Sửa thông tin sản phẩm\" : \"Thêm sản phẩm mới\"}\n          </CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n          <div className=\"row\">\n            <div className=\"col-12 col-lg-6\">\n              <form>\n                <div className=\"form-group\">\n                  <label>Tên sản phẩm:</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"name\"\n                    value={name}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Giá bán lẻ (VND):</label>\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    name=\"price\"\n                    value={price}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Slug:</label>\n                  {name ? (\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"pathseo\"\n                      value={pathseo ? pathseo : changeToSlug(name)}\n                      onChange={this.onChange}\n                    />\n                  ) : (\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"pathseo\"\n                      value={pathseo}\n                      onChange={this.onChange}\n                    />\n                  )}\n                </div>\n                <div className=\"form-group\">\n                  <label>Số lượng (chiếc):</label>\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    name=\"amount\"\n                    value={amount}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Thời hạn bảo hành:</label>\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    name=\"warrently\"\n                    value={warrently}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Loại sản phẩm:</label>\n                  <select\n                    className=\"form-control\"\n                    required=\"required\"\n                    name=\"category\"\n                    value={category}\n                    onChange={this.onSelect}\n                  >\n                    {listCategories.map((category, index) => {\n                      return (\n                        <option key={index} value={category._id}>\n                          {category.name}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label>Tên thương hiệu:</label>\n                  <select\n                    className=\"form-control\"\n                    required=\"required\"\n                    name=\"brand\"\n                    value={brand}\n                    onChange={this.onChange}\n                  >\n                    {listBrands.map((brand, index) => {\n                      return (\n                        <option key={index} value={brand._id}>\n                          {brand.name}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n                {bigimage ? (\n                  <div className=\"form-group img-thumbnail3\">\n                    {previewSource ? (\n                      <img src={previewSource} className=\"w-100\" alt=\"\" />\n                    ) : (\n                      <img\n                        src={bigimage.public_url}\n                        style={{ border: \"1px solid\", width: \"100%\" }}\n                        alt=\"\"\n                      />\n                    )}\n                    <div className=\"file btn btn-lg btn-primary\">\n                      Change Photo\n                      <input\n                        type=\"file\"\n                        name=\"image\"\n                        id=\"fileInput\"\n                        value={fileInputState}\n                        onChange={this.handleFileInputChange}\n                        style={{ width: \"100%\" }}\n                      />\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"form-group img-thumbnail3\">\n                    {previewSource ? (\n                      <img src={previewSource} className=\"w-100\" alt=\"\" />\n                    ) : (\n                      <img\n                        src=\"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\"\n                        alt=\"\"\n                        style={{ border: \"1px solid\", width: \"100%\" }}\n                      ></img>\n                    )}\n                    <div className=\"file btn btn-lg btn-primary\">\n                      Change Photo\n                      <input\n                        type=\"file\"\n                        name=\"image\"\n                        id=\"fileInput\"\n                        value={fileInputState}\n                        onChange={this.handleFileInputChange}\n                        style={{ width: \"100%\" }}\n                      />\n                    </div>\n                  </div>\n                )}\n                <div className=\"form-group\">\n                  <div className=\"row\">\n                    {image &&\n                      image.map((item, index) => {\n                        return (\n                          <div className=\"col-3\" key={index}>\n                            <div className=\" img-thumbnail2\">\n                              <img\n                                src={item.public_url}\n                                className=\"w-100\"\n                                style={{ border: \"1px solid\" }}\n                                alt=\"\"\n                              ></img>\n                              <div className=\"btn btn-lg btn-primary img-des\">\n                                Delete Photo\n                                <input\n                                  type=\"button\"\n                                  name=\"image\"\n                                  className=\"w-100 h-100\"\n                                  onClick={() => this.deletePhoto(item._id)}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    {previewList[0] && (\n                      <>\n                        {previewList.map((item, index) => {\n                          return (\n                            <div className=\"col-3\" key={index}>\n                              <div className=\"img-thumbnail2\">\n                                <img src={item} alt=\"\" className=\"w-100\" />\n                                <div className=\"btn btn-lg btn-primary img-des\">\n                                  Delete Photo\n                                  <input\n                                    type=\"button\"\n                                    name=\"image\"\n                                    className=\"w-100 h-100\"\n                                    onClick={() => this.deletePreview(item)}\n                                  />\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </>\n                    )}\n                    <div className=\"col-3\">\n                      <div className=\" img-thumbnail2\">\n                        <img\n                          src=\"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\"\n                          alt=\"\"\n                          className=\"w-100\"\n                          style={{ border: \"1px solid\" }}\n                        ></img>\n                        <div className=\"btn btn-lg btn-primary img-des\">\n                          Add Photo\n                          <input\n                            type=\"file\"\n                            onChange={this.handleListInputChange}\n                            className=\"w-100 h-100\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-12 col-lg-6\">\n              <div className=\"card text-white mb-3\">\n                <div className=\"card-header bg-primary\">Chi tiết sản phẩm</div>\n                <div className=\"card-body text-dark\">\n                  {specifications[0].value\n                    ?\n                    specifications.map((item, index) => {\n                    return (\n                    <div className=\"form-group\" key={index}>\n                      <label key={index+1}>{item.name}</label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        key={index}\n                        name={item._id}\n                        defaultValue={item.value}\n                        onChange={this.onChangeDetail}\n                      />\n                    </div>)\n                    })\n                    : specifications.map((item, index) => {\n                    return (\n                    <div className=\"form-group\" key={index}>\n                      <label>{this.setSpecification(item._id)}</label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        name={item}\n                        onChange={this.onChangeDetail}\n                      />\n                    </div>)\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"success\" onClick={() => this.onSubmitImage(!large)}>\n            Lưu ảnh\n          </CButton>{\" \"}\n          <CButton color=\"secondary\" onClick={() => onClose(!large)}>\n            Cancel\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    productDetail: state.products.detail,\n    listBrands: state.brands.list,\n    listCategories: state.categories.list,\n    listOperations: state.operations.list,\n    listColor: state.color.list,\n    categoryDetail: state.categories.detail,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onCreate: (params, formData) => {\n      dispatch(ProductsActions.onCreate({ params, formData }));\n    },\n    onUpdateImage: (id, params, formData) => {\n      dispatch(ProductsActions.onUpdateImage({ id, params, formData }));\n    },\n    onGetListColor: () => {\n      dispatch(ColorActions.onGetList());\n    },\n    onGetListOperation: () => {\n      dispatch(OperationActions.onGetList());\n    },\n    onGetDetailCategories: (id) => {\n      dispatch(CategoryActions.onGetDetail(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\n"]},"metadata":{},"sourceType":"module"}